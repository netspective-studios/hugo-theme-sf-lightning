<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}" dir="ltr">
<head>  
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MRP79T4');</script>

  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
  <!-- Title tag -->
  
  <title>Medical Innovation Lifecycle Management (ILM) Projects in Healthcare Industry | Medigy &#8480;</title>
  
  <meta name="description" content="Medical Innovation Lifecycle Management (ILM) highlights open source and commercially available digital healthcare software which are targeting interoperability as a core capability." />
   
 <!-- Meta Description End -->
 <meta property="og:title" content="Medical Innovation Lifecycle Management (ILM) Projects in Healthcare Industry" />
 <meta property="og:url" content="https://www.medigy.com/modules/innovation-lifecycle-management" />
 <meta property="og:image" content="https://www.medigy.com/images/home-graphic-1.png" />
 <meta property="og:type" content="website" />
<!-- start opengraph data -->
 
   <meta property="og:description" content="Medical Innovation Lifecycle Management (ILM) highlights open source and commercially available digital healthcare software which are targeting interoperability as a core capability">
  <meta property="og:locale" content="en_US" />
   
 
<!-- end opengraph data  -->
 

<!-- start Twitter data -->
   

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@Medigy" />
    <meta name="twitter:title" content="Medical Innovation Lifecycle Management (ILM) Projects in Healthcare Industry" />
    <meta name="twitter:description" content="Medical Innovation Lifecycle Management (ILM) highlights open source and commercially available digital healthcare software which are targeting interoperability as a core capability" />
    <meta name="twitter:image" content="https://www.medigy.com/images/home-graphic-1.png"/>
   
 
 
<!-- end Twitter data -->
  <!-- Standard favicon -->
  <link rel="icon" type="image/x-icon" href="/img/media.ico">
  <!-- Recommended favicon format -->
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <link rel="stylesheet" href="/css/normalize.min.css" />
  <link rel="stylesheet" href="/css/style.css" />
  <link rel="stylesheet" href="/css/xcode.css" />
  <!-- bootstrap & responsive css -->
  <!--<link href="https://clin-table-search.lhc.nlm.nih.gov/lforms-versions/13.1.0/styles/lforms.min.css" media="screen" rel="stylesheet"
    />-->
  <link rel="stylesheet" href="/css/bootstrap.min.css" />  
  <link rel="stylesheet" href="/css/fhir-theme.css" />
  <link rel="stylesheet" href="/css/responsive.css" />
  <link rel="stylesheet" href="/css/fontawesome_v5.6.3_all.css">
  <!-- bootstrap & jquery js -->
  <script type="text/javascript" src="/js/jquery-3.1.1.min.js"></script>
  <script type="text/javascript" src="/js/bootstrap.min.js" ></script>  
  <script type="text/javascript" src="/js/sourcebuster.min.js"></script>
  <script type="text/javascript" src="/modules/innovation-lifecycle-management/config.js"></script>

 
  <link rel="stylesheet" href="/css/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="/css/latolatinfonts.css" />

 

<!-- Global site tag (gtag.js) - Google Analytics -->
<meta name="yandex-verification" content="dc730b9540a1bf82" />
<meta name="msvalidate.01" content="152F12319D1A5CD80F1EC0116FB589D2" />
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-93818-16"></script>
 

  <script>
 
      $(document).ready(function() {
        console.log( "dom loaded" );
        
      $('.fb-share').click(function(e) {
        e.preventDefault();
        window.open($(this).attr('href'), 'fbShareWindow', 'height=450, width=550, top=' + ($(window).height() / 2 - 275) + ', left=' + ($(window).width() / 2 - 225) + ', toolbar=0, location=0, menubar=0, directories=0, scrollbars=0');
        return false;
      });


       
      });

     
  </script>

 

<!-- Site schema starts here-->
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Website",
    "headline": "Medigy",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "{{ $.Site.Params.siteUrl }}"
      },
    "genre": "Digital Health IT Softwares & Applications",
    "url": "{{ $.Site.Params.siteUrl }}",
     "publisher": {
      "@type": "Organization",
      "name": "Medigy",
      "logo": {
        "@type": "ImageObject",
        "url": "{{ $.Site.Params.siteUrl }}img/Medigy Logo with caption.png",
        "width": 127,
        "height": 40
      }
    },
    "author": {
      "@type": "Person",
      "name": "Shahid Shah"
    },
    "description": "Discovering Solutions....... Together"
  }
  </script>
  <!-- Site schema ends here-->
 
<script>
    function setCookie(key, value) {
    var expires = new Date();
    if (key == 'cookie-agree')
      expires.setTime(expires.getTime() + (30 * 24 * 60 * 60 * 1000));
    else
      expires.setTime(expires.getTime() + (5 * 24 * 60 * 60 * 1000));
    document.cookie = key + '=' + value + ';expires=' + expires.toUTCString() + ';path=/';
  }

  function getCookie(key) {
    var keyValue = document.cookie.match('(^|;) ?' + key + '=([^;]*)(;|$)');
    return keyValue ? keyValue[2] : null;
  }
</script>
</head>
<script>
    
     var currentUrl = window.location.href;
      var personid = getCookie('personid');
      if (personid == null) {
        //setCookie('prevPage', currentUrl);
        //window.location.href = '/login';
      }    
  </script>

<link rel="stylesheet" href="/css/select2.min.css" />
<script type="text/javascript" src="/js/select2.min.js"></script>
<body class="single-body">
    <!-- Google Tag Manager (noscript) -->
<div id="g-tag-body">
  <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MRP79T4" height="0" width="0"
  style="display:none;visibility:hidden"></iframe></noscript>
  </div>
  <!-- End Google Tag Manager (noscript) -->
    
  <script>
 
  var newpath = $(location).attr('pathname');

  if (newpath == '/categories/') {
    window.location.href = "/category/";

  }
 
  function callLogin() {
    $('#reLoginModalCenter').modal('toggle');
    $('#userEmail').val(getCookie('userEmail'));
  }
  function getUrlVars() {
    var vars = [], hash;
    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
    for (var i = 0; i < hashes.length; i++) {
      hash = hashes[i].split('=');
      vars.push(hash[0]);
      vars[hash[0]] = hash[1];
      if (typeof (hash[1]) != 'string')
        vars[hash[0]] = null;
    }
    return vars;
  }
 

  $(document).ready(function () {

    var cookieQueryStatus = window.location.href.indexOf("cookie-policy");
    console.log(cookieQueryStatus);
    if (getCookie('personid') == null && getCookie('cookie-agree') != 'true' && cookieQueryStatus < 0) {
      $('.cookie-bottom').show();
    }
    //cookieMessageModalCenter
  

    $('.cookie-agree, .cookie-disagree').on("click", function (e) {
      var expires = new Date();
      expires.setTime(expires.getTime() + (365 * 24 * 60 * 60 * 1000));
      document.cookie = 'cookie-agree=true;expires=' + expires.toUTCString() + ';path=/';
      location.reload(true);
    });


    var addtoILM = getCookie('addtosuggest');  
      if (addtoILM == 'true') {
      $('#intakepopup').modal('toggle');
      //alert(2323);
      setCookie('addtosuggest', '');
      }


    $(".loginCheckforIlm").click(function(){

var personid = getCookie('personid');


 if(personid==null)
  { 
    setCookie('addtosuggest', 'true');  
    $('#intakepopup').modal('hide'); 
    $("#addtoilmsuggest").attr("data-toggle", 'modal');
    $("#addtoilmsuggest").attr("data-target", '#loginModalCenter'); 
  }
   


});


      var inviteToIlmVal = getCookie('inviteToIlm');  
      if (inviteToIlmVal == 'true') {
      $('#Category_Offering_Invite').modal('toggle');
      //alert(2323);
      setCookie('inviteToIlm', '');
      }



$(".inviteToIlm").click(function(){

var personid = getCookie('personid');


 if(personid==null)
  { 
    setCookie('inviteToIlm', 'true');  
    $('#Category_Offering_Invite').modal('hide'); 
    $("#inviteToParticipate").attr("data-toggle", 'modal');
    $("#inviteToParticipate").attr("data-target", '#loginModalCenter'); 
  }
   


});

     
     



    // Checking Session value starts here
    if('{{ .Params.authentication}}' == 'true')
    {
      var sessionId = getCookie('sessionId');
      if (sessionId != null) {
        var settings = {
          "async": true,
          "crossDomain": true,
          "url": ilmGraphql,
          "method": "POST",
          "headers": {
            "Content-Type": "application/x-www-form-urlencoded",
            "cache-control": "no-cache"
          },
          "data": {
            //"query": "query{\n  getAuthentication(username:\""+username+"\",password:\""+password+"\"){\n    personId\n    firstName\n    lastName\n    displayName\n    sessionId\n}\n}"
            "query": "query{\n  checkAuthentication(authorization:{\n    sessionID:\"" + sessionId + "\"\n    \n  }){\n    valid\n    displayName\n    userName\n    mail\n    personId\n  }\n}"
          }
        }
        $.ajax(settings).done(function (response) {
          if (response.data.checkAuthentication.valid != true && getCookie('userEmail') != null)
            callLogin();

        });
      }
    }
    // Checking Session value ends here    

    // addOffering button margin-top issue fixes starts here

    if (getCookie('personid') !== null) {

      $('.admin-area').addClass('space-top');

      if (getCookie('personid') == '7eea82e6-c0bd-11e8-85c1-e1894e45cc6e')
        $('#claimDashboardMenu').show();
      else
        $('#claimDashboardMenu').hide();
    }
    else {
      $('.admin-area').removeClass('space-top');
      $('#claimDashboardMenu').hide();
    }

    // addOffering button margin-top issue fixes ends here

    // Collect all tenant of an user starts here
    var sessionId = getCookie('sessionId');
    if (sessionId != null) {
      //console.log("query{\n  getMyTenants(authorization:{\n    sessionID:\""+sessionId+"\"\n  }){\n    tenantId\n    name\n    displayName\n  }\n}");
      var settings = {
        "async": true,
        "crossDomain": true,
        "url": ilmGraphql,
        "method": "POST",
        "headers": {
          "Content-Type": "application/x-www-form-urlencoded",
          "cache-control": "no-cache"
        },
        "data": {
          //"query": "query{\n  getAuthentication(username:\""+username+"\",password:\""+password+"\"){\n    personId\n    firstName\n    lastName\n    displayName\n    sessionId\n}\n}"
          "query": "query{\n  getMyTenants(authorization:{\n    sessionID:\"" + sessionId + "\"\n  }){\n    tenantId\n    name\n    displayName\n  }\n}"
        }
      }
      $.ajax(settings).done(function (response) {
        var options = '';
        var selectStatus = 0;
        for (var i = 0; i < response.data.getMyTenants.length; i++) {

          var opt = '';
          if (response.data.getMyTenants[i].tenantId != 'cb39d53a-1ef0-11e9-9d28-bb451ba91f54' && response.data.getMyTenants[i].tenantId != 'e8d7b61e-4f8b-11e9-b5be-c51857ed28a4' && response.data.getMyTenants[i].tenantId != 'e7dfc497-707f-11e9-8c9d-33682264df93' && response.data.getMyTenants[i].tenantId != null) {
            if (getCookie('tenantId') !== null && getCookie('tenantId') == response.data.getMyTenants[i].tenantId) {
              var opt = 'selected="selected"';
              selectStatus = 1;

            } $('#tenantDetails').val() == getCookie('tenantId')
            /*
            else if(response.data.getMyTenants[i].tenantId == '7822da54-c0ba-11e8-85c1-6301a0c839d6')
                var opt = 'selected="selected"';
              */
            options += '<option value ="' + response.data.getMyTenants[i].tenantId + '" ' + opt + '>' + response.data.getMyTenants[i].displayName + '</option>';
          }
        }
        if (options != '') {
          // if(selectStatus == 0)

          $('#tenantDetails').html(options);
          $('#tenantIdForClaim').html(options);
          $('#tenantId').html(options);
          return false;
          // $('#tenantDetails').show();
        }
        //console.log(options);
      });
    }
    // Collect all tenant of an user ends here    

    $("#tenantDetails").on("change", function () {

      setCookie('tenantId', $("#tenantDetails").val());
      location.reload(true);

    });



    $('#loginform').on('submit', function (e) {

      if (e.isDefaultPrevented()) {
        alert('form is not valid');
      }

      else {

        $('#loginButton').prop("disabled", true);
        e.preventDefault();
        $('#errorcode').html('');
        $('#errorcode').html('<span class="text-primary">Authentication is in progress.</span>');
        var username = document.loginform.username2.value;
        username = username.trim();
        var password = document.loginform.password2.value;
        console.log("mutation{\n  establishSession(authentication:{\n    userName:\"" + username + "\"\n    password:\"" + password + "\"\n  }){\n    sessionID\n    userDetails{\n      personId\n      firstName\n      lastName\n      profileImageUrl\n      memberOrganization{\n        tenantId\n        name\n        default\n        displayName\n      }\n    }\n    status\n  }\n}");
        var settings = {
          "async": true,
          "crossDomain": true,
          "url": ilmGraphql,
          "method": "POST",
          "headers": {
            "Content-Type": "application/x-www-form-urlencoded",
            "cache-control": "no-cache"
          },
          "data": {
            //"query": "query{\n  getAuthentication(username:\""+username+"\",password:\""+password+"\"){\n    personId\n    firstName\n    lastName\n    displayName\n    sessionId\n}\n}"
            "query": "mutation{\n  establishSession(authentication:{\n    userName:\"" + username + "\"\n    password:\"" + password + "\"\n  }){\n    sessionID\n    userDetails{\n      personId\n      firstName\n      lastName\n      profileImageUrl\n      memberOrganization{\n        tenantId\n        name\n        default\n        displayName\n      }\n    }\n    status\n  }\n}"
          }
        }
        if (getCookie('cookie-agree') != 'false') {
          $.ajax(settings).done(function (response) {
            //console.log("my modal login______",response);
            //console.log();return ;
            if (response.data.establishSession.userDetails != null) {
              var firstname = response.data.establishSession.userDetails.firstName;
              var lastname = response.data.establishSession.userDetails.lastName;
              var personid = response.data.establishSession.userDetails.personId;
              var sessionId = response.data.establishSession.sessionID;
              var memberOrganizationDetails = response.data.establishSession.userDetails.memberOrganization
              var profileImage = response.data.establishSession.userDetails.profileImageUrl;
              var tenantId = '';
              var status = 0; // Checking for default teanant details...
              var memberOrganization = response.data.establishSession.userDetails.memberOrganization
              for (i = 0; i < memberOrganizationDetails.length; i++) {
                if (memberOrganizationDetails[i].default == true) {
                  tenantId = memberOrganizationDetails[i].tenantId;
                  status = 1;
                  break;
                }
              }
              // Set for fist tenant details ad default teanant if there is no default tenant Id...
              if (status == 0){
                  // tenantId = memberOrganizationDetails[0].tenantId;
              }
                var tenantArray= [];
                for (i = 0; i < memberOrganization.length; i++) {
                    tenantArray[i] =memberOrganization[i].tenantId;
                }
                //console.log("tenantarray");
                //console.log(tenantArray);
                setCookie('tenantArray', tenantArray);
              setCookie('profileImage', profileImage);
              setCookie('firstname', firstname);
              setCookie('lastname', lastname);
              setCookie('personid', personid);
              setCookie('sessionId', sessionId);
              setCookie('userEmail', username);
              setCookie('tenantId', tenantId);
              setCookie('cookie-agree', 'true');
              setCookie('ilmLoginCheck', 'true');
              /* tracking login activity of user in GA */
              var dimensionValue = username;
              if (dimensionValue.length > 150) {
                dimensionValue = firstname;
              }
              //gtag('set', {'user_id': dimensionValue}); // Set the user ID using signed-in user_id.

              //gtag('set', {'dimension1': dimensionValue});
              // gtag('config', 'UA-93818-14', {  'custom_map': {'dimension1': dimensionValue}});
              //ga('set', 'dimension1', dimensionValue);
              //var dimensionValue = 'Yes';
              //gtag('event', 'Login', { 'dimension2': dimensionValue });

              //var status = "Success";
              //gtmSignIn(status, username);

              // ga('set', 'dimension2', dimensionValue);
              /* tracking login activity of user in GA */

              setTimeout(function () {
              

                 var addtoILM = getCookie('addtoilmbutton');  

                  if (addtoILM == 'true') {
                      setCookie('addtoilmbutton', 'reload'); 
                    }
               // window.location.href = "/add-suggest/";

               /// 09-12-19 addevent and news
                  var addSugestNews = getCookie('suggestNewsEventPage');  

                  if (addSugestNews != '' && addSugestNews != null) {  
                     setCookie('suggestNewsEventPage', "");                                  
                        window.location.href = "/add-suggest/";
                    }else{
                  // window.location.href = "/add-suggest/";
                  location.reload();
                  }

                // var postbttnvalue = $("#formentry").val();
                // if (postbttnvalue == 'true') {
                //   postbttnvalue = '';
                // // window.location.href = "/add-suggest/";
                // }

                // var ilmbttnvalue = getCookie('ilmLoginCheck');  
                // if (ilmbttnvalue == 'true') {
                //   setCookie('ilmLoginCheck', '');  
                //   window.location.href = "/modules/innovation-lifecycle-management/";
                // }





              }, 5);

            }
            else {
              $('#errorcode').html('');
              $('#errorcode').append('<span class="text-danger">Invalid Username or Password</span>');
              $('#loginButton').prop("disabled", false);
              var status = "Invalid Username or Password";
              //gtmSignIn(status, username);
            }

          });
        }
      }

    });
 

    $('#reLoginform').on('submit', function (e) {

      if (e.isDefaultPrevented()) {
        alert('form is not valid');
      }

      else {

        $('#reLoginButton').prop("disabled", true);
        e.preventDefault();
        $('#reLoginErrorcode').html('');
        $('#reLoginErrorcode').html('<span class="text-primary">Authentication is in progress.</span>');
        var username = document.reLoginform.username2.value;
        var password = document.reLoginform.password2.value;
        var settings = {
          "async": true,
          "crossDomain": true,
          "url": ilmGraphql,
          "method": "POST",
          "headers": {
            "Content-Type": "application/x-www-form-urlencoded",
            "cache-control": "no-cache"
          },
          "data": {
            //"query": "query{\n  getAuthentication(username:\""+username+"\",password:\""+password+"\"){\n    personId\n    firstName\n    lastName\n    displayName\n    sessionId\n}\n}"
            "query": "mutation{\n  establishSession(authentication:{\n    userName:\"" + username + "\"\n    password:\"" + password + "\"\n  }){\n    sessionID\n    userDetails{\n      personId\n      firstName\n      lastName\n      memberOrganization{\n        tenantId\n        name\n        default\n        displayName\n      }\n    }\n    status\n  }\n}"
          }
        }
        $.ajax(settings).done(function (response) {
          //console.log();return ;
          if (response.data.establishSession.userDetails != null) {
            var firstname = response.data.establishSession.userDetails.firstName;
            var personid = response.data.establishSession.userDetails.personId;
            var sessionId = response.data.establishSession.sessionID;
            var memberOrganizationDetails = response.data.establishSession.userDetails.memberOrganization
            var tenantId = '';
            var status = 0; // Checking for default teanant details...
            for (i = 0; i < memberOrganizationDetails.length; i++) {
              if (memberOrganizationDetails[i].default == true) {
                tenantId = memberOrganizationDetails[i].tenantId;
                status = 1;
                break;
              }
            }
            // Set for fist tenant details ad default teanant if there is no default tenant Id...
            if (status == 0) {
              for (i = 0; i < memberOrganizationDetails.length; i++) {
                if (memberOrganizationDetails[i].tenantId == "7822da54-c0ba-11e8-85c1-6301a0c839d6") {
                  tenantId = memberOrganizationDetails[i].tenantId;
                  status = 1;
                  break;
                }
              }
            }
            if (status == 0)
              tenantId = memberOrganizationDetails[0].tenantId;

            setCookie('firstname', firstname);
            setCookie('personid', personid);
            setCookie('sessionId', sessionId);
            setCookie('userEmail', username);
            setCookie('tenantId', tenantId);
            /* tracking login activity of user in GA */
            var dimensionValue = username;
            if (dimensionValue.length > 150) {
              dimensionValue = firstname;
            }
            //gtag('set', {'user_id': dimensionValue}); // Set the user ID using signed-in user_id.

            //gtag('set', {'dimension1': dimensionValue});
            // gtag('config', 'UA-93818-14', {  'custom_map': {'dimension1': dimensionValue}});
            //ga('set', 'dimension1', dimensionValue);
            //var dimensionValue = 'Yes';
            gtag('event', 'Login', { 'dimension2': dimensionValue });
            var status = "Relogin:Success";
            gtmSignIn(status, username);
            $('#reLoginModalCenter').modal('toggle');
            $('#productFacetsMessage').removeClass('alert-success');
            $('#productFacetsMessage').hide();
            // ga('set', 'dimension2', dimensionValue);
            /* tracking login activity of user in GA */
            $('.btn-primary').prop("disabled", false);
            var pathname = window.location.pathname;
            if (pathname.search("my-institution") > 0)
              location.reload();
          }
          else {
            $('#reLoginErrorcode').html('');
            $('#reLoginErrorcode').append('<span class="text-danger">Invalid Username or Password</span>');
            $('#reLoginButton').prop("disabled", false);
            var status = "Relogin:Invalid Username or Password";
            gtmSignIn(status, username);
          }

        });
      }

    });

    //Re-login ends here




    var delete_cookie = function (name) {
      document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/';
    };

    $("#userlogout").on("click", function (e) {

      delete_cookie('firstname');
      delete_cookie('personid');

      delete_cookie('userEmail');
      delete_cookie('tenantId');
      delete_cookie('sessionId');
      delete_cookie('companyId');
      /// Signout process for graphQL starts here /////
      var sessionId = getCookie('sessionId');
      var settings = {
        "async": true,
        "crossDomain": true,
        "url": ilmGraphql,
        "method": "POST",
        "headers": {
          "Content-Type": "application/x-www-form-urlencoded",
          "cache-control": "no-cache"
        },
        "data": {
          "query": "      mutation{\n  logoutSession(sessionId:\"" + sessionId + "\")\n}"
        }
      }

      $.ajax(settings).done(function (response) {
        console.log(response);
      });
      /// Signout process for graphQL ends here /////

      delete_cookie('sessionId');
      location.reload();


    });

  });
  $(document).ready(function () {


      var addtoILM = getCookie('addtoilmbutton');  
      if (addtoILM == 'reload') {
      $('#addtoilmsuggest').modal('toggle');
      //alert(2323);
      setCookie('addtoilmbutton', ''); 

      }

    if (getCookie('personid') != null) {
      $('.dropdown').show();
    }
    var searchQuery = getUrlVars()["s"];
    if (typeof (getUrlVars()["s"]) != 'undefined') {
      searchQuery = decodeURIComponent((location.search.split(name + '=')[1] || '').split('&')[0]).replace(/\+/g, ' ');
      $('#search-query').val(searchQuery);
    }
    if (getCookie('personid') != null) {

      var firstname = getCookie('firstname');

      if (firstname == 'null') {

        $('#sessionname').val('');
      }
      else {

        $("#sessionname").append(firstname);

      }

      $('#userlogout').show();
      $('#userlogin').hide();
      $(".addoffer-col").addClass("loggedinoffer");

    }

    else {
      $('#logoutmedigy').hide();
      $('.dropdown').hide();
    }
    $(".login-bt").on("click", function () {
      document.loginform.username2.value = '';
      document.loginform.password2.value = '';
      $('#sessionname').val('');
    });


    $("#postform").on("click", function () {

      var query = '';
      if( $(this).data('query') != undefined){ 
        query = $(this).data('query');
      }
      if (getCookie('personid') !== null) {

        window.location.href = "/add-suggest/"+query;

      }

      else {
        $("#formentry").val("true");
        $('#loginModalCenter').modal('toggle');

      }


    });

    //ILM section login check

    $("#Innovation_Lifecycle_Top_Menu").on("click", function () {

       // e.preventDefault();

      if (getCookie('personid') !== null) {

        window.location.href = "/modules/innovation-lifecycle-management";

      }

      else {
        
        // setCookie('ilmLoginCheck', 'true');
        // $('#loginModalCenter').modal('toggle');
        setCookie('prevPage','/modules/innovation-lifecycle-management/');  
        //window.location.href = "/login/";

      }


    });
   //ILM section login check End

    $("#register").on("click", function () {
      $('#loginModalCenter').modal('toggle');
      $('#registerModalCenter').modal('toggle');
      $("#userSignup")[0].reset();
      $('#signupMessage').hide();
      $('#signupMessage').html('');
    });


   /* $("#userlogin").on("click", function () {
      $('#loginModalCenter').modal('toggle');
      $("#loginform")[0].reset();
      $('#errorcode').html('');

    }); */


    $("#registerlogin").on("click", function () {

      $('#registerModalCenter').modal('toggle');
      $('#loginModalCenter').modal('toggle');
      $("#userSignup")[0].reset();
      $('#signupMessage').hide();
      $('#signupMessage').html('');


    });


    $(document).mouseup(function (e) {

      if (!event.target.matches('.dropbtn, .user-ttl')) {
        $('#myDropdown').removeClass('show');
      }


    });
    //user-ttl

    $(".dropbtn,.user-ttl").on("click", function () {


      document.getElementById("myDropdown").classList.toggle("show");


      // Close the dropdown if the user clicks outside of it
      /*
      if (!event.target.matches('.dropbtn')) {
        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
      */

    });

  });

</script>


<script>
  /*
  var user_id = getCookie('userEmail');
  var ga_tracking_code = 'UA-93818-14';
  ga('create', ga_tracking_code, 'auto');

  if( user_id != null ){
    ga('set', '&uid', user_id); // Set the user ID using signed-in user_id.
  
  }
  */

  function gtmSignUp(status, userName) {
    // GTM for signup

    window.dataLayer.push({
      'gtmUserName': userName,
      'gtmSignupStatus': status,
      'event': 'signUp'
    });
    // console.log(status);
    // GTM for signup 
  }
  function gtmSignIn(status, userName) {
    // GTM for signin

    window.dataLayer.push({
      'gtmUserName': userName,
      'gtmSigninStatus': status,
      'url': window.location.href,
      'event': 'signIn'
    });
    console.log(userName + '-' + status + '-' + window.location.href);
    return;
    // console.log(status);
    // GTM for signin
  }
  function getGraphQlUrl() {
    return ilmGraphql;
  }
</script>
 
<script type="text/javascript" src="/js/feedback/html2canvas.js"></script>
<script type="text/javascript" src="/js/feedback/feedback.js"></script>
 
<div id="feedback-widget-container"></div>
<article class="top-row">
  <!-- Cookie disclaimer div starts here-->

  <div class="cookie-bottom">
    <div class="container">
      <button class="close-button cookie-disagree" aria-label="Dismiss alert" type="button" data-close="">
        <!--<span aria-hidden="true">×</span>-->
      </button>
      <div class="row">
        <div class="column small-12">
          <strong class="h4">This website uses cookies</strong>
          <p>These cookies are used to collect information about how you interact with our website and allow us to
            remember
            you. We use this information in order to improve and customize your browsing experience, and for analytics
            and
            metrics about our visitors both on this website and other media. To find out more about the cookies we use,
            see
            our
            <strong>
              <a href="/cookie-policy/" target="_blank" title="Cookie Policy">Cookie Policy</a>
            </strong>.</p>
        </div>
        <div class="column small-12">
          <strong class="text-uppercase">
            <small>Please consent to the use of cookies before continuing to browse our site.</small>
          </strong>
          <div class="small stacked-for-medium button-group gdpr-container">
            <form class="gdpr_form" method="get">
              <button type="button" title="Consent the use of cookies" class="cookie-agree"
                data-close="">Accept cookies</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Cookie disclaimer div ends here-->
  <div class="container">
  <div itemscope itemtype = "http://schema.org/WebSite"><!-- Open schema website outer div -->
    <div class="row mb-1">
      <!-- medigy logo area starts -->
      <div class="col-lg-6 col-md-12 col-sm-12 logo-align medigy-logo-row">
        <div class="medigy-logo">
          <div itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
            <a href="/" title="Medigy" itemprop="url"> <img class="inner-logo-style img-responsive" itemprop="logo" src="/images/Medigy-Innovation-Network-logo.svg" alt="logo" /></a>
          </div>
        </div>
        <div class="medigy-highlight">
          <h1>Innovation Lifecycle (ILM) </h1> </div>
        <div class="clearfix"></div>
      </div>
      <!-- medigy logo area ends -->
      <div class="col-lg-6 col-md-12 col-sm-12 col-12">
        <div id="custom-search-input">

          <div class="row">
            <!-- <div class="col-lg-4 col-sm-12">
              
            </div> -->
            <div class="col-lg-12 col-sm-12">

              <div class="row add-offer-zone">
                <div class="admin-area">
                  <div class="offerings-col">
                    <span class="addoffer-col">
                      <a id="postform">
                        <button class="post-bt" id="Top_Add_Offering_Button">Add / Suggest...</button>
                      </a>
                    </span>
                  </div>
                  <div class="member-col">
                    <span class="log-bt-col">
                      <a id="userlogin" href="/login" class="login-bt Top_Login_Button">Login</a>
                    </span>
                    <span id="sessionname" class="user-ttl"></span>
                    <span class="set-list user-ico" style="display:none;">
                      <div class="dropdown">


                        <script>
                          $(document).ready(function () {
                            var profileImage = getCookie('profileImage');
                            if (profileImage == 'null' || profileImage == 'undefined') {

                              // $.noConflict();

                              var email = getCookie('userEmail');


                              if (email.length > 0) {

                                var md5 = $.md5(email);


                                var gravatar = 'https://gravatar.com/avatar/' + md5 + '?&d=404';
                                $.ajax({
                                  url: gravatar,
                                  type: "HEAD",
                                  crossDomain: true,
                                  error: function () {
                                    $(".member-thumb").attr("src", "/img/member-thumb.jpg");
                                  },
                                  success: function () {

                                    $(".member-thumb").attr("src", gravatar);
                                  }
                                });
                              }

                              // $(".member-thumb").attr("src","/img/member-thumb.jpg");
                            }
                            else {
                              $('.member-thumb').attr('src', profileImage);
                            }

                          });
                        </script>
                        <a href="#">
                          <img class="dropbtn member-thumb"> </a>
                        <div id="myDropdown" class="dropdown-content">
                          <a href="/feedback/" class="login-bt">Looking for Something?</a>
                          <a href="/my-profile/" class="login-bt">My Profile</a>
                          <a href="/my-institutions/" class="login-bt">My Institutions</a>
                          <a href="/my-offerings/" class="login-bt">My Offerings</a>
                          <a href="/my-claims/" class="login-bt">My Claims</a>
                          <a id="claimDashboardMenu" href="/claiming-dashboard/" class="login-bt"
                            style="display:none">Claiming Dashboard</a>
                          <a id="userlogout" style="display:none;" href="#" class="login-bt">logout</a>
                        </div>
                      </div>
                    </span>
                  </div>
                </div>
                     <form id="searchsubmit" action="/search/" class="companies-lists mr-4 search-align">
                  <div class="input-group">
                    <input type="text" id="search-query" name="s" class="  search-query form-control"
                      placeholder="Search" />
                      <input type="hidden" id="es-page" name="page" value="1"/>

                    <span class="input-group-btn">
                      <button id="zoomsearch" class="btn btn-danger" type="submit">
                        <i class="fas fa-search Top_Search_Bar"></i>
                      </button>
                    </span>
                  </div>
                </form>
                <!-- <div class="companies-lists">
                  <select name="tenantDetails" id="tenantDetails" class="form-control company-select"
                    style="display: none;"></select>
                </div> -->
              </div>


            </div>
          </div>

 
        </div>
      </div>


    </div>

    <div class="row b-t-1">
      <div class="col-lg-9 col-md-8 col-sm-7 col">
        <nav class="navbar navbar-light navbar-expand-lg top-nav mt-1">
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
            aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarCollapse">

            <ul class="navbar-nav mr-auto">
              <li class="nav-item">
                <a id="Home_Top_Menu"      class="nav-link" href="/">Home
                </a>
                    
              </li>

              <li class="nav-item">
                <a id="Daily_Brief_Top_Menu"  class="nav-link" href="/brief/daily/offerings/discovered/">Daily Brief
                </a>
                
              </li>

              <li class="nav-item">
                <a id="Categories_Top_Menu"  
                    class="nav-link"   href="/communities/">Communities</a>
              </li> 

              <li class="nav-item">
                <a id="Categories_Top_Menu" 
                      class="nav-link"   href="/topics">Topics</a>
              </li>
              <li class="nav-item">
                <a id="Profiles_Top_Menu"  class="nav-link"  
                  href="/profile/regulated/institution/us-dhhs-cms/hospital/" title="Healthcare Delivery Organizations (HDOs)">Institutions</a>  
              
              </li>
             
              <li class="nav-item">
                <a id="News_Top_Menu"  
                      class="nav-link"   href="/news">News
                </a>
              </li>
              <li class="nav-item ">
                <a id="Events_Top_Menu"  
                      class="nav-link"  href="/events">Events
                </a>
              </li>
               <li class="nav-item">
                <a id="Feeds_Top_Menu"    class="nav-link"   href="/feed/latest">Feeds </a>  </li> 
              <li class="nav-item">  
               <a href="#" class="dropdown-toggle nav-link menu-selected" data-toggle="dropdown" aria-expanded="false"> <span class="nav-label">Modules</span> <span class="caret"></span></a>
                <ul class="dropdown-menu drop-new left-auto">
                <li class="dropdown-item"><a id="Innovation_Lifecycle_Top_Menu" href="/modules/innovation-lifecycle-management/">Innovation Lifecycle Management (ILM)</a></li>
                </ul>                    
              </li> 
               
              <li class="nav-item">
                <a id="Awards_Top_Menu"   
                  class="nav-link"   href="/recognition/awards/">Awards
                </a>
              </li>
              

            </ul>
          </div>
        </nav>
      </div>
      <div class="col-lg-3 col-md-4 col-sm-5 col">
        <div class="float-right owned">
          <div class="float-right text-left" itemprop = "about">Published by
            <br>
            <a href="http://shahidshah.com/" target="blank">@ShahidNShah</a>
          </div>
          <div class="float-right">
            <img itemprop = "image" src="/img/shahid-sha.png" width="40" alt ="shahid sha">
          </div>
          <div class="clear-fix"></div>
        </div>
      </div>  
    </div>

  </div> <!-- Close schema website outer div -->
</article>

<!-- 
    <nav class="nav-bar side-padding">
      <h1 class="nav-header"><a href="/" class="nav-text"> {{ if isset $.Site.Params "brand"}}
        {{- $.Site.Params.brand -}}
        {{ else }}
        {{- $.Site.Title -}}
        {{ end }} </a></h1>
      <div class="hamburger-menu">
        <input type="checkbox" onclick="hamburgerMenuPressed()"/>
        <span></span> <span></span>
        <ul class="hamburger-menu-overlay">
          <li><a href="/" class="hamburger-menu-overlay-link">Home</a></li>
          {{ range where .Site.Pages "Params.displayinmenu" true }}
          <li><a href="{{ .Permalink }}" class="hamburger-menu-overlay-link">{{ .Title }}</a></li>
          {{ end }}
          {{ range $key, $value := .Site.Taxonomies.categories }}
          <li><a href="/categories/{{ $key | urlize  }}" class="hamburger-menu-overlay-link">{{ $key | humanize }}</a></li>
          {{ end }}
        </ul>
      </div>
    </nav>
  </div>
  -->

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-center mod-content">
        <b>Coming Soon</b>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>

<!-- Login Modal -->
<div class="modal fade" id="loginModalCenter" tabindex="-1" role="dialog" aria-labelledby="loginModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true" id="Login_Form_Close_Button">&times;</span>
        </button>
      </div>
      <div class="modal-body ">
        <article class="post-login">
          <form name="loginform" id="loginform">
            <h2>Please Login</h2>
            <div class="form-group row">
              <label for="email" class="col-sm-12">Username</label>
              <div class="col-sm-12">
                <input class="form-control" name="username2" type="email" placeholder="Email" required>
              </div>
            </div>
            <div class="form-group row">
              <label for="pwd" class="col-sm-12">Password</label>
              <div class="col-sm-12">
                <input type="password" class="form-control" name="password2" placeholder="Password" required>
              </div>
            </div>
            <div class="form-group row">
              <a href="/reset-password" class="btn btn-link">Forgot Your Password?</a>
            </div>

            <input type="hidden" name="formentry" id="formentry" value="">
            <div class="text-left">
              <input type="submit" value="LOGIN" id="loginButton" class="btn btn-primary Form_Login_Button">
              <a href="#" id="register" class="btn btn-link">
                <strong class="Form_Register_Button">Register Now</strong>
              </a>
            </div>

          </form>

        </article>


        <span id="errorcode"> </span>

      </div>
      <!--<div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>-->
    </div>
  </div>
</div>
<!-- Login Modal Ends-->



<!-- Re-login Modal -->
<div class="modal fade" id="reLoginModalCenter" tabindex="-1" role="dialog" aria-labelledby="loginModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button id="Login_Form_Close_Button" type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body ">
        <article class="post-login">
          <form name="reLoginform" id="reLoginform">
            <h2>Please Login</h2>
            <div class="form-group row">
              <label for="email" class="col-sm-12">Your session has been expired. Please login to continue.</label>
              <div class="col-sm-12">
                <input class="form-control" name="username2" id="userEmail" type="hidden" placeholder="Email" required>
              </div>
            </div>
            <div class="form-group row">
              <label for="pwd" class="col-sm-12">Password</label>
              <div class="col-sm-12">
                <input type="password" class="form-control" name="password2" placeholder="Password" required>
              </div>
            </div>
            <input type="hidden" name="reLoginStatus" id="reLoginStatus" value="1">
            <input type="hidden" name="formentry" id="reformentry" value="">
            <div class="text-left">
              <input type="submit" value="LOGIN" id="reLoginButton" class="btn btn-primary">
            </div>

          </form>

        </article>


        <span id="reLoginErrorcode"> </span>

      </div>
      <!--<div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>-->
    </div>
  </div>
</div>
<!-- Re-login Modal Ends-->





<!-- Register Modal -->
<div class="modal fade" id="registerModalCenter" tabindex="-1" role="dialog" aria-labelledby="registerModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body ">
        <div id="signupMessage" class="alert alert-success"></div>
        <article class="post-login">
          <form name="userSignup" id="userSignup" action="#">
            <h2>Sign Up</h2>


            <div class="form-group row">
              <label for="email" class="col-sm-12">First Name</label>
              <div class="col-sm-12">
                <input class="form-control" name="register-firstname" id="register-firstname" placeholder="First name"
                  required maxlength="44">
              </div>
            </div>

            <div class="form-group row">
              <label for="email" class="col-sm-12">Last Name</label>
              <div class="col-sm-12">
                <input class="form-control" id="register-lastname" name="register-lastname" placeholder="Last name"
                  required>
              </div>
            </div>

            <div class="form-group row">
              <label for="email" class="col-sm-12">Email</label>
              <div class="col-sm-12">
                <input type="email" class="form-control" id="register-email" name="register-email" placeholder="Email"
                  required>
              </div>
              <span class="signup-note">To complete your sign up process, an email will be sent to your email that you
                gave above from the address
                called no-reply-attest@netspective.support, please make sure you allow us through your Spam</span>
            </div>

            <div class="form-group row">
              <label for="email" class="col-sm-12"> </label>
              <div class="col-sm-12">
                <div id="recaptchaSignUp"></div>
              </div>
              <span class="captcha-message">Please verify the Captcha</span>
            </div>

            <div class="text-left">
              <input type="submit" value="Sign Up" id="signupButton" name="signupButton" class="btn btn-primary">

              <a href="#" id="registerlogin" class="btn btn-link">
                <strong>Login</strong>
              </a>

            </div>

          </form>

        </article>


        <span id="errorcode"> </span>

      </div>
      <!--<div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>-->
    </div>
  </div>
</div>
<!-- Register Modal Ends-->

<!-- Invite Modal -->
<div class="modal fade" id="inviteModalCenter" tabindex="-1" role="dialog" aria-labelledby="inviteModalCenterTitle"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"
          id="Quantitative_Evaluation_Invitation_Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body ">
        <div id="inviteMessage" class="alert alert-success"></div>
        <article class="post-login">
          <form name="inviteform" id="inviteform">
            <h2>Invite to Medigy</h2>
            <div class="form-group row">
              <label for="firstName" class="col-sm-12">First Name</label>
              <div class="col-sm-12">
                <input class="form-control" id="inviteFirstName" name="inviteFirstName" type="text" required>
              </div>
            </div>
            <div class="form-group row">
              <label for="lastName" class="col-sm-12">Last Name</label>
              <div class="col-sm-12">
                <input class="form-control" id="inviteLastName" name="inviteLastName" type="text" required>
              </div>
            </div>
            <div class="form-group row">
              <label for="email" class="col-sm-12">Email id to invite</label>
              <div class="col-sm-12">
                <input class="form-control" id="inviteEmail" name="inviteEmail" type="email" required>
              </div>
            </div>
            <div class="form-group row">
              <div class="col-sm-12">
              </div>
            </div>
            <input type="hidden" name="inviteformentry" id="inviteformentry" value="">
            <input type="hidden" name="facetName" id="facetName" value="">
            <input type="hidden" name="productName" id="productName" value="">
            <input type="hidden" name="facetsSlug" id="facetsSlug" value="">
            <div class="text-left">
              <input type="submit" value="SEND" id="inviteButton"
                class="btn btn-primary Quantitative_Evaluation_Invitation_Send">
            </div>
            <br />
          </form>

        </article>



      </div>

    </div>
  </div>
</div>
<!-- Invite modal-->


<!-- Modal for message handling start here-->
<div class="modal fade" id="cookieMessageModalCenter" tabindex="-1" role="dialog"
  aria-labelledby="inviteModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <article class="post-login">
        <div class="modal-body text-center mod-content" id="cookieMessageModal">
          <article class="post-login">
            <br />
            <h2>This website uses cookies</h2>
          </article>
        </div>
        <p>This website uses cookies to improve user experience. By using our website you consent to all cookies in
          accordance
          with our Cookie Policy.</p>

        <div class="text-left">
          <button type="button" class="btn btn-primary cookie-agree" data-dismiss="modal">I agree</button>&nbsp;&nbsp;
          <button type="button" class="btn btn-secondary cookie-disagree" data-dismiss="modal">I
            disagree</button>&nbsp;&nbsp;
          <button type="button" class="btn btn-primary cookie-readmore" data-dismiss="modal">Read more</button>
        </div>
      </article>
      <br />
    </div>
  </div>
</div>


<!--- Modal for message handling ends here -->

<script type="text/javascript">
  $(document).ready(function () {

    $('#zoomsearch').click(function () {
      if ($('#search-query').val() != '')
        $("#searchsubmit").submit();

    });
  });
  $(document).on('keyup', function (e) {
    e.preventDefault();

    /* 
     if(e.which == 13 && $("#loginModalCenter").is(":visible")){
       submitentry();
     }
     */
    //  if(e.which == 13 && ('#search-query').val()!='' && ('#search-query').is(":focus")) {
    //$("#searchsubmit").submit();
    //  }
  });
  $(document).ready(function () {


    $('#loginModalCenter').on('shown.bs.modal', function (e) {
      $('html').addClass('freezeforIpad');
      $('body').addClass('freezeforIpad');
    });
    $('#loginModalCenter').on('hidden.bs.modal', function (e) {
      $('html').removeClass('freezeforIpad');
      $('body').removeClass('freezeforIpad');
    });

    
  });

</script>
  <script src="/js/moment.js"></script>  
  
 
  <script>

  function base64EncodeUnicode(str) {
    // First we escape the string using encodeURIComponent to get the UTF-8 encoding of the characters, 
    // then we convert the percent encodings into raw bytes, and finally feed it to btoa() function.
    utf8Bytes = encodeURIComponent(str).replace(/%([0-9A-F]{2})/g, function (match, p1) {
      return String.fromCharCode('0x' + p1);
    });

    return btoa(utf8Bytes);
  }

  var usersessionid = getCookie('sessionId');
  var tenantId = getCookie('projectTenantId');
  console.log("--------------My new tenentid",tenantId);

  if (usersessionid != null) { 
 
      var userSession = usersessionid;
      
      
      }
      else
      {

      var userSession = '';
       

      }
 
  
  

    function removeitems(obj){

      var checkstr =  confirm('Are you sure to remove ?');
      if(checkstr == true){

        var checkpersonalIlm = getCookie('setPersonalILM');

        if(checkpersonalIlm == "false")
        {
          var tenantId = getCookie('projectTenantId');
          removeTenant =  "tenantId:\""+tenantId+"\"\n";
          var personalIlmProject = "false";
        }
        else
        {
          removeTenant =  "";
          var personalIlmProject = "true";
          
        }
        

      var listingtype = obj.data().value;
 

      if((listingtype == 'Product') || (listingtype == 'Solution') || (listingtype == 'Service') ) { 
        var relationId = obj.attr('id');
        var relationType = "MEDIGY_OFFERING";
        var typeRemoval = "Offering";

      }

      else if (listingtype == 'News'){
         var relationId = obj.attr('id');
         var relationType = "MEDIGY_NEWS";
         var typeRemoval = "News";
      }

      else if (listingtype == 'Suggest'){
         var relationId = obj.attr('id');
         var relationType = "External";
         var typeRemoval = "Suggest";
      }

      else if (listingtype == 'Awards'){
         var relationId = obj.attr('id');
         var relationType = "MEDIGY_AWARDS";
         var typeRemoval = "Award";
      }

      else  {
        
        var relationId = obj.attr('id');
        var relationType = "MEDIGY_EVENTS";
        var typeRemoval = "Event";


         }

         //console.log("mutation{\n\n  deleteIlmProjectItem( authorization:{\n\n    sessionID:\""+userSession+"\"\n\n  },tenantId:\""+tenantId+"\",projectId:\""+$('#editProjectID').val()+"\",issueId:\""+relationId+"\"\n\n  ){\n\n    status\n\n    message\n\n  }\n\n  }");return false;

  var settings = {
          "async": true,
          "crossDomain": true,
          "url": ilmGraphql,
          "method": "POST",
          "headers": {
            "Content-Type": "application/x-www-form-urlencoded",
            "Accept": "*/*",
            "Accept-Encoding": "gzip, deflate",
            "Connection": "keep-alive",
            "cache-control": "no-cache"
},
  "data": {
    "query":  "mutation{\n\n  deleteIlmProjectItem( authorization:{\n\n    sessionID:\""+userSession+"\"\n\n  },"+removeTenant+",projectId:\""+$('#editProjectID').val()+"\",issueId:\""+relationId+"\"\n \n isPersonal:"+personalIlmProject+" \n  ){\n\n    status\n\n    message\n\n  }\n\n  }"
  }
}

        console.log('My result settings',settings);
        $.ajax(settings).done(function (response) {

          responseStatus = response.data.deleteIlmProjectItem.status;
          if(responseStatus=="SUCCESS") {

          setCookie('removeFromList', 'true');
          setCookie('removeType', typeRemoval);
        
          window.setTimeout(function () { location.reload() }, 3000)
          //console.log(response);
          }
          else
          {

          var notifyMessage = "You don't have permission to remove entry, contact system administrator";
          $('#removeSuccess').html(notifyMessage);
          $("#removeSuccess").addClass('alert alert-warning');
          $('#removeSuccess').fadeOut(7300);


          }
          
        });
        }
        else
        {
        return false;
        }

        }


    $(document).ready(function () {

      loadComment(); 

     
  
       var personid = getCookie('personid');

      if (personid == null) {
      //window.location.href = "/";
        }

         var removeFromList = getCookie('removeFromList');
         var removeType = getCookie('removeType');

   if (removeFromList == 'true')  
  { 
    //alert('entered');
    var notifyMessage = 'Removed <b>'+removeType+'</b> Successfully'; 
    $('#removeSuccess').html(notifyMessage);
    $("#removeSuccess").addClass('alert alert-success');
    $('#removeSuccess').fadeOut(7300);
    setCookie('removeFromList', '');
    setCookie('removeType', '');
    
  }

     var origin  = window.location.origin;
     //console.log('orgineeeeeeee next check',origin)
      // { { if gt .Params.stars 0 } }
      // $('#gitStarCountDiv').show();
      // { { else } }
      // $('#gitStarCountDiv').hide();
      // { { end } }
      // { { if gt .Params.watcher 0 } }
      // $('#gitWatcherCountDiv').show();
      // { { else } }
      // $('#gitWatcherCountDiv').hide();
      // { { end } }

      $('#questionTitle').keyup(function () {
        if ($('#questionTitle').val() != '')
          $('#questionButton').show();
        else
          $('#questionButton').hide();
      });

      //Invite people mutation starts  

      $("#inviteilmbutton").click(function (e) {
        e.preventDefault();
        var inviteFirstNameIlm = $('#inviteFirstNameilm').val();
        var inviteLastNameIlm = $('#inviteLastNameilm').val();
        var inviteEmail = $('#inviteEmaililm').val();
        var projectName = $('#ilmProjectName').val();
        var combinedNameIlm = inviteFirstNameIlm + inviteLastNameIlm;
        var ilmPermalink = '/modules/innovation-lifecycle-management/project/?ilm=';
        var projectURLILM = origin +ilmPermalink+ ilmslug;
         
 
        var settings = {
          "async": true,
          "crossDomain": true,
          "url": ilmGraphql,
          "method": "POST",
          "headers": {
            "Content-Type": "application/x-www-form-urlencoded",
            "Accept": "*/*",
            "Accept-Encoding": "gzip, deflate",
            "Connection": "keep-alive",
            "cache-control": "no-cache"
          },
          "data": {
        "query": `mutation{
          sendProjectInvite(authorization:{
            sessionID:"` +usersessionid+ `"
          }
            email:{displayName:"` +combinedNameIlm+ `",
            email:"` +inviteEmail+ `"},
            projectName:"` +projectName+ `",
            url:"` +projectURLILM+  `",
            
          ){
            status
            message
          }
        }`
        }
          
        }
        if ($('#inviteFirstNameilm')[0].reportValidity() && $('#inviteLastNameilm')[0].reportValidity() && $('#inviteEmaililm')[0].reportValidity()) {
          $(this).val("Please wait");
          $(this).attr('disabled', true);
          $.ajax(settings).done(function (response) {
            $(".inviteilmbutton").attr('disabled',true);
            $("#canccel").attr('disabled',true);
            var notifyMessage = 'Invited Successfully'; 
            $('#projectInviteMessage').html(notifyMessage);
            $('#projectInviteMessage').addClass('pull-right alert alert-success pt-2 pb-2 m-0');
            $(".inviteilmbutton").val("SAVE");
            $('#projectInviteMessage').fadeOut(8300);
            window.setTimeout(function(){$('#Category_Offering_Invite .close').click();},9300)
            window.setTimeout(function () { location.reload() }, 3000)
            console.log(response);
          });
        }
      });
      //Invite people mutation ends
     
      $('.deleteProduct').click(function(){

        //var tenantId = getCookie('tenantId');

        var deleteIlmProjectID =   $('#editProjectID').val();
        var editIlmSession = getCookie('sessionId');
        var projectTenantId = getCookie('projectTenantId');
        var checkpersonalIlm = getCookie('setPersonalILM');
         
        if(checkpersonalIlm == "false")
        {
          deleteTenant =  "tenantId:\""+projectTenantId+"\"\n";
          var personalIlmProject = "false";
        }
        else
        {
          deleteTenant =  "";
          var personalIlmProject = "true";
          
        }

var checkstr =  confirm('Are you sure you want to delete this ILM project?');
if(checkstr == true){
  console.log("mutation{\n  deleteProject(projectId:\""+deleteIlmProjectID+"\"\n "+deleteTenant+"  authorization:{\n    sessionID:\""+editIlmSession+"\"\n  } \n isPersonal:"+personalIlmProject+" \n){\n    status\n    message\n  }\n}");//return false;

 var settings = {
  "async": true,
  "crossDomain": true,
  "url": ilmGraphql,
  "method": "POST",
  "headers": {
    "Content-Type": "application/x-www-form-urlencoded",
    "Accept": "*/*",
    "Accept-Encoding": "gzip, deflate",
    "Connection": "keep-alive",
    "cache-control": "no-cache"
  },
  "data": {
    "query": "mutation{\n  deleteProject(projectId:\""+deleteIlmProjectID+"\"\n "+deleteTenant+"  authorization:{\n    sessionID:\""+editIlmSession+"\"\n  } \n isPersonal:"+personalIlmProject+" \n){\n    status\n    message\n  }\n}"
  }
}

 $.ajax(settings).done(function (response) {
    console.log(response);
    var projDeleteStatus =  response.data.deleteProject.status;
    console.log('My status',projDeleteStatus);
    if(projDeleteStatus == 'SUCCESS'){

    var editIlmProjectName = $('#editTitle').val();
    setCookie('deleteprojectlist', 'true');
    setCookie('deleteprojectname', editIlmProjectName);
    window.location.href = "/modules/innovation-lifecycle-management";
      
    }
    else{

      var deleteMessage = "You don't have permission to delete project, contact system administrator";
      $('#deleteProjectSuccess').html(deleteMessage);
      $("#deleteProjectSuccess").addClass('alert alert-warning');
      $('#deleteProjectSuccess').fadeOut(9300);
   
    }
 });

   
}else{
return false;
}
});
  
         
 

    var tagArray = '';
    var settings = {
      "async": true,
      "crossDomain": true,
      "url": "https://service.ontology.attest.cloud/?query={getClassHierarchy%28rootClassName:%22Collection%22,searchParam:%22%22%29{parentclassname%20parentclasslabel%20%20classname%20%20%20%20label%20%20%20%20%20subclassname%20%20%20%20%20subclasslabel}}",
      "method": "GET",
      "headers": {
        "Accept": "*/*",
        "Cache-Control": "no-cache",
        "Host": "https://service.ontology.attest.cloud/",
        "accept-encoding": "gzip, deflate",
        "Connection": "keep-alive",
        "cache-control": "no-cache"
      }
    }

    $.ajax(settings).done(function (response) {

        //console.log(response);
        let myArray = response.data.getClassHierarchy;
        var catOption = '';
        for (let i = 0; i < myArray.length; i++) {
          if (myArray[i].subclassname) {
            var label = myArray[i].parentclasslabel + ": " + myArray[i].subclasslabel;
            var key = myArray[i].subclassname;
          }
          else if (myArray[i].classname) {
            var label = myArray[i].parentclasslabel + ": " + myArray[i].label;
            var key = myArray[i].classname;
          }
          else {
            var label = myArray[i].parentclasslabel;
            var key = '';//myArray[i].parentclassname;
          }

          catOption += '<option value="' + label + '$" >' + label + '</option>';

        }
        $('#editTopics').html(catOption);

      });

$('#editTopics').select2(); 
     
    $('#addtoilm').click(function(){
    $('.select2').css("width", "100%"); 

  });
      var sessionId = getCookie('sessionId');
      var ilmslug = getUrlVars()["ilm"];
     if (sessionId != null) { 


    var userSession = sessionId;
    var publicCheck = 0;
    $( "#edit-delete" ).show();
 
      
    }
    else
    {
      
    var userSession = '';
    var publicCheck = 1;
     

    }


     // $("#isso-thread").attr('data-isso-id',ilmslug);

      var myurl = '/edit-ilm-project/';
      $('#addtoilm').attr('href', function() {
      return myurl + '?ilm=' + ilmslug;
      });
       
     
                    var settings = {
                "async": true,
                "crossDomain": true,
                "url": ilmGraphql,
                "method": "POST",
                "headers": {
                  "Content-Type": "application/x-www-form-urlencoded",
                  "Accept": "*/*",
                  "Accept-Encoding": "gzip, deflate",
                  "Connection": "keep-alive",
                  "cache-control": "no-cache"
                },
                "data": {
                  "query": "query{\n  getProjectHistory(authorization:{\n    sessionID:\"" + userSession + "\"\n  }\n  projectSlug:\""+ilmslug+"\"){\n    project_id\n    target_title\n    action_name\n     target_type\n    created_at\n  author{name}  }\n}"
                }
              }

              console.log("query{\n  getProjectHistory(authorization:{\n    sessionID:\"" + userSession + "\"\n  }\n  projectSlug:\""+ilmslug+"\"){\n    project_id\n    target_title\n    action_name\n     target_type\n    created_at\n  author{name}  }\n}");

              $.ajax(settings).done(function (response) {
                console.log('History',response);

                  
                  var historyHtml = "";
                  for (key in response.data.getProjectHistory) {
                    var subjectType = response.data.getProjectHistory[key].action_name;
                    var createdTime = response.data.getProjectHistory[key].created_at;
                    var actionBy = response.data.getProjectHistory[key].author.name;
                    var subject = response.data.getProjectHistory[key].target_title;

                    if(subject!=null)
                    {
                      var issueTitle = response.data.getProjectHistory[key].target_title;
                    }
                     
                    var createdOndt = new Date(createdTime);
                    var createdOndate =  createdOndt.toLocaleString();

                    if(subjectType == "created"){

  

                      var createdHistory = "Project <strong class = 'projectNameforHistory'> </strong> created";


                      }
                      else if (subjectType == "opened")
                      {

                        var createdHistory = "<strong>"+issueTitle+"</strong> added";

                      }
                      else if (subjectType == "pushed to")
                      {
                        

                        var createdHistory = "Project <strong class = 'projectNameforHistory'> </strong> edited";

                      }
                      else
                      {


                      var createdHistory = "";

                      }

                      if(subjectType == "pushed new")
                      {
                      
                      historyHtml += '';
                      }
                      else{

                      historyHtml += '<div ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" class="blog-card" rel="bookmark"><article class="card-body"> <div class="date-event-col-2"> <h2 class="card-title ago-text-style">   '+createdHistory+' by <strong>'+actionBy+'</strong> <time class="timeago" datetime="'+createdOndate+'"> '+createdOndate+' </time> </h2>  <div class="clearfix"></div></article></div>';
                      }
                  }
                  $('#getallhistory').html(historyHtml); 
                  $("time.timeago").timeago();
              });

     
      var settings = {
        "async": true,
        "crossDomain": true,
        "url": ilmGraphql,
        "method": "POST",
        "headers": {
          "Content-Type": "application/x-www-form-urlencoded",
          "Accept": "*/*",
          "Accept-Encoding": "gzip, deflate",
          "Connection": "keep-alive",
          "cache-control": "no-cache"
        },
        "data": {    
          "query": "query{\n  getProjectDetails(authorization:{\n    sessionID:\"" + userSession + "\"\n    \n  }\n    \n    projectSlug:\"" + ilmslug + "\"\n  ){\n    projectId\n   projectName\n  projectDescription\n tenantId\n   analytics{\n      offeringTotalCount\n   offeringSuggestCount\n  offeringAwardsCount\n     newsTotalCount\n  eventsTotalCount\n      offeringProductCount\n offeringSolutionCount\n      offeringServiceCount\n     }\n personalIlm  }\n}"
        }
 
      }
      console.log("query{\n  getProjectDetails(authorization:{\n    sessionID:\"" + userSession + "\"\n    \n  }\n    \n    projectSlug:\"" + ilmslug + "\"\n  ){\n    projectId\n   projectName\n  projectDescription\n tenantId\n   analytics{\n      offeringTotalCount\n   offeringSuggestCount\n  offeringAwardsCount\n   newsTotalCount\n  eventsTotalCount\n      offeringProductCount\n offeringSolutionCount\n      offeringServiceCount\n    }\n personalIlm  }\n}");

      var delay = 9000;
      var projectId;
      var searchTitle;
      $.ajax(settings).done(function (response) {

      var projectid = response.data.getProjectDetails.projectId; 
      var projectTenantId = response.data.getProjectDetails.tenantId;
      var setPersonalILM = response.data.getProjectDetails.personalIlm;
       
      setCookie('projectTenantId', response.data.getProjectDetails.tenantId); 
      setCookie('setPersonalILM', response.data.getProjectDetails.personalIlm);


        /// Query for getting Events items under events tab

        function is_url(str) {
            regexp = /^(?:(?:https?):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;
            if (regexp.test(str)) {

              return true;
            }
            else
              return false;
          }

              $(".form-control").on("keypress", function(e) {
                    if (e.which === 32 && !this.value.length)
                        e.preventDefault();
                });

           $('#intakepopup').on('hidden.bs.modal', function (e) {
 

              $('#addExternalSourcename').val("");
              $('#addExternalSource').val("");
              $('#addExternalDesc').val("");
              $('#addExternalnotes').val("");


                });


          $('#addExternalSource').on('focusout', function (e) {
            if (is_url($('#addExternalSource').val())) {
              $('.validLink').hide();
            }
            else {
              $('.validLink').show();
            }
          });

        $("#addExternal").click(function(){
 


          var imagePath = "/img/featured/default.png";


          var sourceUrlName =  $('#addExternalSourcename').val();
          
           

          var sourceURL =  $('#addExternalSource').val();

          //var notes = $('#addExternalNotes').val();
 
           
 
          var description =  $('#addExternalDesc').val();
          description = description.replace(/%/g, "percentage");
          description = base64EncodeUnicode(description);


          var notes =  $('#addExternalnotes').val();
          notes = notes.replace(/%/g, "percentage");
          notes = base64EncodeUnicode(notes);
 

             var d = new Date();
             var newsDate = d.getFullYear() + "-" + (d.getMonth()+1) + "-" + d.getDate();
               

             console.log("mutation{\n\n  createIlmProjectItem(\n  \n  authorization:{sessionID:\""+userSession+"\"}\n  projectId:\""+projectid+"\"\n       description : \""+notes+"\"\n  \n  DataCollection:{\n  \n  dataType:\"Suggest\",\n  \n  source:\"External\",\n  \n  title:\""+sourceUrlName+"\",\n  \n  imageURL:\""+imagePath+"\",\n  \n  uniqueIdentifier:\""+sourceURL+"\",\n  \n  description:\""+description+"\",\n  \n  postedDate:\""+newsDate+"\",\n  \n  sourceURL:\""+sourceURL+"\",\n  \n  offeringId:\""+projectid+"\"\n  \n  })\n  {\n    status\n    message\n    errorCode\n  }\n}"); //return false;

            var settings = {
            "async": true,
            "crossDomain": true,
            "url": ilmGraphql,
            "method": "POST",
            "headers": {
            "Content-Type": "application/x-www-form-urlencoded",
            "Accept": "*/*",
            "Accept-Encoding": "gzip, deflate",
            "Connection": "keep-alive",
            "cache-control": "no-cache"
            },
            "data": {
                "query": "mutation{\n\n  createIlmProjectItem(\n  \n  authorization:{sessionID:\""+userSession+"\"}\n  projectId:\""+projectid+"\"\n       description : \""+notes+"\"\n  \n  DataCollection:{\n  \n  dataType:\"Suggest\",\n  \n  source:\"External\",\n  \n  title:\""+sourceUrlName+"\",\n  \n  imageURL:\""+imagePath+"\",\n  \n  uniqueIdentifier:\""+sourceURL+"\",\n  \n  description:\""+description+"\",\n  \n  postedDate:\""+newsDate+"\",\n  \n  sourceURL:\""+sourceURL+"\",\n  \n  offeringId:\""+projectid+"\"\n  \n  })\n  {\n    status\n    message\n    errorCode\n  }\n}"
              }
            
            }


if($('#addExternalSourcename')[0].reportValidity() && $('#addExternalSource')[0].reportValidity() && $('#addExternalDesc')[0].reportValidity() && $('#addExternalnotes')[0].reportValidity()){ 
  $(this).val("Please wait");
  $(this).attr('disabled',true); 
$.ajax(settings).done(function (response) {

  responseStatus = response.data.createIlmProjectItem.status;
  if(responseStatus == "Success")
  {
         

   $("#addExternal").attr('disabled',true);
   $("#canccel").attr('disabled',true);
   var notifyMessage = "Suggested article added"; 
   $('#eventAddedMessage').html(notifyMessage);
   $('#eventAddedMessage').addClass('pull-right alert alert-success pt-2 pb-2 m-0');
   $("#addExternal").val("ADD");
   $('#eventAddedMessage').fadeOut(8300);
   //$("#toEventIm").trigger('reset');
   window.setTimeout(function(){$('#addNewsIlm .close').click();},9000)
   window.setTimeout(function () { location.reload() }, 3000)
   $('#addExternalDesc').val("");
  }
  else
  {

      

    var notifyMessage = "Project already added";
     $('#eventAddedMessage').html(notifyMessage);
     $('#eventAddedMessage').addClass('pull-right alert alert-warning pt-2 pb-2 m-0');
     $("#addExternal").val("ADD");
     $('#eventAddedMessage').fadeOut(8300);
  }
   
});
}  


          

           

        });


        $("#events-tab").click(function (e) {
       
          eventTabListing();

        });



      function eventTabListing(){

        //alert('1');

            
    var settings = {
    "async": true,
    "crossDomain": true,
    "url": ilmGraphql,
    "method": "POST",
    "headers": {
      "Content-Type": "application/x-www-form-urlencoded",
      "Accept": "*/*",
      "Accept-Encoding": "gzip, deflate",
      "Connection": "keep-alive",
      "cache-control": "no-cache"
    },
    "data": {    
      "query": "query{\n  getItemListByType(authorization:{sessionID:\""+userSession+"\" } projectId:"+projectid+",type:\"Events\") {\n  id\n    title\n    description\n    note\n    sourceUrl\n    uniqueIdentifier\n    startDate\n  endDate\n    imageUrl\n    label\n  issueId\n location\n }\n}\n    \n\n"
    }

  }
  console.log("query{\n  getItemListByType(authorization:{sessionID:\""+userSession+"\" } projectId:"+projectid+",type:\"Events\") {\n  id\n    title\n    description\n    note\n    sourceUrl\n    uniqueIdentifier\n    postedDate\n    imageUrl\n    label\n  issueId\n location\n  }\n}\n     \n\n");//return false;



$.ajax(settings).done(function (response) {
console.log('new response type',response);
var eventshtml = "";


       


for (key in response.data.getItemListByType) {


      var create_date = response.data.getItemListByType[key].startDate; 
      console.log("event date",create_date);
      var createdOndt = new Date(create_date);
      var createdOndate =  createdOndt.toLocaleString();
      var arr = createdOndate.split(',');
      var split_createdOndate = arr[0];
      const months = ["January", "February", "March","April", "May", "June", "July", "August", "September", "October", "November", "December"];
       const day = ["Sunday", "Monday", "Tuesday","Wednesday", "Thursday", "Friday", "Saturday"];

      let formatted_date =  months[createdOndt.getMonth()]  + ", " + createdOndt.getDate() + ", " + createdOndt.getFullYear()
      var dayDate = day[createdOndt.getDay()];
     
      var startMonth = formatted_date.split(",")
      var monthonly = startMonth[0] ;
      
      var dateOnly = startMonth[1].trim();
      var slugyear = startMonth[2].trim();
      var eventDate = parseInt(dateOnly);


      var end_date = response.data.getItemListByType[key].endDate; 
      var createdOndt = new Date(end_date);
      var createdOndate =  createdOndt.toLocaleString();
      var arr = createdOndate.split(',');
      var split_createdOndate = arr[0];
      const emonths = ["January", "February", "March","April", "May", "June", "July", "August", "September", "October", "November", "December"];
      let final_date =  emonths[createdOndt.getMonth()]  + " " + createdOndt.getDate() + ", " + createdOndt.getFullYear()
      var finalMonth = final_date.split(",")
      var finalMonthOnly = finalMonth[0] ;
      var finalYearOnly = finalMonth[1] ;


var eventsImagePath =  response.data.getItemListByType[key].imageUrl;
console.log('---------------------------event image-------------------------------',eventsImagePath);
var oneerrorimage = ("origin +'/img/featured/default.png'");


if(eventsImagePath == '')
{

var imageEventssOrginalPath =  '/events/default.png';

}

else
{

var imageEventssOrginalPath = (origin+'/events/'+eventsImagePath);

console.log('------------News added image----------',imageEventssOrginalPath);

}
var eventLocationCheck =  response.data.getItemListByType[key].location;


  if(eventLocationCheck == null)
  {

    var eventLocation =  '';

  }

  else
  {

    var eventLocation =  '<div class="event-location-holder"><i class="fas fa-map-marker-alt"></i>'+response.data.getItemListByType[key].location+'</div>';

  }

var Originaloffering = response.data.getItemListByType[key].title;

       eventshtml += '<div ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" class="card blog-card" rel="bookmark"><article class="card-body date-event-row"> <div class="date-event-col-1"><div class="date-display"><div class="date-event-mo">'+monthonly+'</div><div class="date-event-dt">'+dateOnly+'</div><div class="date-event-da">'+dayDate+'</div></div></div><div class="date-event-col-2"> <h2 class="card-title"><a target = "blank" href="' + response.data.getItemListByType[key].uniqueIdentifier + '">' + response.data.getItemListByType[key].title + '</a> <span class="count-tool-i special-text" ><i class="fas fa-info-circle"></i> <span class="special-text__tooltip">'+response.data.getItemListByType[key].note+'</span></span></h2><div class="event-date-holder"><i class="far fa-calendar-alt"></i> '+monthonly+' '+dateOnly+' to '+finalMonthOnly+', '+finalYearOnly+'  </div> '+eventLocation+'  </div> <div class="clearfix"></div></article><div class="card-img-container"> <a target = "blank" href="'+ response.data.getItemListByType[key].uniqueIdentifier + '"><img src="'+imageEventssOrginalPath+'" class="card-img" onerror="this.onerror=null; this.src='+oneerrorimage+'"></a></div> <div id = "'+response.data.getItemListByType[key].issueId+'"  onclick = "removeitems($(this))" data-value = "'+ response.data.getItemListByType[key].label +'" class="small-bt-row deleteItem removeitem"><span class="col a"><i class="fas fa-times-circle cl-m"></i></span><span class="col b">Remove</span></div> </div>'; 

}
$('#getallevents').html(eventshtml);

});

    
} 



      /// End of query for getting Events items under events tab

     /// Query for getting News items under events tab       
      $("#news-tab").click(function (e) {
        newsTabListing();

      });

      function newsTabListing(){
     
        
var settings = {
  "async": true,
  "crossDomain": true,
  "url": ilmGraphql,
  "method": "POST",
  "headers": {
    "Content-Type": "application/x-www-form-urlencoded",
    "Accept": "*/*",
    "Accept-Encoding": "gzip, deflate",
    "Connection": "keep-alive",
    "cache-control": "no-cache"
  },
  "data": {    
    "query": "query{\n  getItemListByType(authorization:{sessionID:\""+userSession+"\" } projectId:"+projectid+",type:\"News\") {\n  id\n    title\n    description\n    note\n    sourceUrl\n    uniqueIdentifier\n    postedDate\n    imageUrl\n    label\n issueId\n  }\n}\n    \n\n"
  }

}
console.log("query{\n  getItemListByType(authorization:{sessionID:\""+userSession+"\" } projectId:"+projectid+",type:\"News\") {\n  id\n    title\n    description\n    note\n    sourceUrl\n    uniqueIdentifier\n    postedDate\n    imageUrl\n    label\n issueId\n }\n}\n    \n\n");//return false;



$.ajax(settings).done(function (response) {
console.log('news type',response);
var newshtml = "";


for (key in response.data.getItemListByType) {


  var imageNewsPath =  response.data.getItemListByType[key].imageUrl;
  //console.log('------------News added image----------',imageNewsPath);
  var issueId =  response.data.getItemListByType[key].issueId;
  //console.log("issue id",issueId);

   
if(imageNewsPath == '')
{

var imageNewsOrginalPath =  '/events/default.png';

}

else
{

var imageNewsOrginalPath = (origin+'/news/'+imageNewsPath);
//console.log('------------News added image----------',imageNewsOrginalPath);

}
          var oneerrorimage = ("origin +'/img/featured/default.png'"); 
          var create_date = response.data.getItemListByType[key].postedDate; 
          var createdOndt = new Date(create_date);
          var createdOndate =  createdOndt.toLocaleString();
          var arr = createdOndate.split(',');
          var split_createdOndate = arr[0];
          const months = ["Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
          let formatted_date =  months[createdOndt.getMonth()]  + " " + createdOndt.getDate() + ", " + createdOndt.getFullYear()

 

newshtml += '<div ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" class="card blog-card" rel="bookmark"><div class="card-img-container"> <a target = "blank" href="' + response.data.getItemListByType[key].uniqueIdentifier + '"><img src="'+imageNewsOrginalPath+'" class="card-img" onerror="this.onerror=null; this.src='+oneerrorimage+'"></a></div><article  class="card-body"><div class="row"><h2 class="card-title col-md-10"><a target = "blank" href="' + response.data.getItemListByType[key].uniqueIdentifier + '">' + response.data.getItemListByType[key].title + '</a> <span class="count-tool-i special-text" ><i class="fas fa-info-circle"></i> <span class="special-text__tooltip">'+response.data.getItemListByType[key].note+'</span></span></h2></div> <span class="card-text ch-limit"> ' + response.data.getItemListByType[key].description + ' </span><div class="metrix row count-bt-area"><div class="col-lg-3 count-col-1"><div class="popularity"><div class="clearfix"></div></div> </div><div class="col-lg-5 count-col-2"></div><div class="col-lg-4 count-col-3"> <div class="social-share social-count-display"><a target = "blank" class="fb-share-push fb-share" title="Facebook" data-app="'+projectid+'" data-slug='+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url='+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="https://www.facebook.com/sharer/sharer.php?u='+origin+''+ response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row" data-app="91"><span class="col a"><i class="fab fa-facebook-square cl-f"></i></span><span class="col b"></span></div></a> <a target = "blank" class="twitter-share-push fb-share" title="Twitter" data-twitter="Nil" data-app="'+projectid+'" data-slug="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="https://twitter.com/home?status='+origin+''+ response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row"><span class="col a"><i class="fab fa-twitter-square cl-t"></i></span><span class="col b"></span></div></a> <a target = "blank" class="linkedin-share-push fb-share" title="Linkedin" data-linkedin="Nil" data-app="'+projectid+'" data-slug="'+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier+ '" href="http://www.linkedin.com/shareArticle?url='+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row"><span class="col a"><i class="fab fa-linkedin cl-in"></i></span><span class="col b"></span></div></a> <a class="email-share-push" title="Email" data-app="'+projectid+'" data-slug="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="mailto:?subject=Check out the post, ' + response.data.getItemListByType[key].title + ' in medigy.com &amp;body=' + response.data.getItemListByType[key].title + '&#32;'+origin+'' + response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row" data-app="'+projectid+'"><span class="col a"><i class="fas fa-envelope cl-m"></i></span><span class="col b"></span></div></a><div class="clearfix"></div></div></div></div> <div class="card-subtext muted-text post-tags"><span><b> Posted <time datetime="2019-11-07">'+formatted_date+'</time></b></span><span> | <b>' + response.data.getItemListByType[key].label +'</b> </span></div> <div id = "'+response.data.getItemListByType[key].issueId+'"  onclick = "removeitems($(this))" data-value = "'+ response.data.getItemListByType[key].label +'" class="small-bt-row deleteItem removeitem"><span class="col a"><i class="fas fa-times-circle cl-m"></i></span><span class="col b">Remove</span></div> </article></div>'; 

}
$('#getallnews').html(newshtml);

});

            
   
        
} 
/// End query for getting News items under events tab 

     /// Query for getting News items under events tab       
     $("#intake-tab").click(function (e) {
      suggestTabListing();

      });

      function suggestTabListing(){
     
        
var settings = {
  "async": true,
  "crossDomain": true,
  "url": ilmGraphql,
  "method": "POST",
  "headers": {
    "Content-Type": "application/x-www-form-urlencoded",
    "Accept": "*/*",
    "Accept-Encoding": "gzip, deflate",
    "Connection": "keep-alive",
    "cache-control": "no-cache"
  },
  "data": {    
    "query": "query{\n  getItemListByType(authorization:{sessionID:\""+userSession+"\" } projectId:"+projectid+",type:\"Suggest\") {\n  id\n    title\n    description\n    note\n    sourceUrl\n    uniqueIdentifier\n    postedDate\n    imageUrl\n    label\n issueId\n  }\n}\n    \n\n"
  }

}
console.log("query{\n  getItemListByType(authorization:{sessionID:\""+userSession+"\" } projectId:"+projectid+",type:\"Suggest\") {\n  id\n    title\n    description\n    note\n    sourceUrl\n    uniqueIdentifier\n    postedDate\n    imageUrl\n    label\n issueId\n }\n}\n    \n\n");//return false;



$.ajax(settings).done(function (response) {
console.log('news type',response);
var suggesthtml = "";


for (key in response.data.getItemListByType) {


  var imageNewsPath =  response.data.getItemListByType[key].imageUrl;
  //console.log('------------News added image----------',imageNewsPath);
  var issueId =  response.data.getItemListByType[key].issueId;
  //console.log("issue id",issueId);

   
if(imageNewsPath == '')
{

var imageNewsOrginalPath =  '/events/default.png';

}

else
{

var imageNewsOrginalPath = (origin+'/news/'+imageNewsPath);
//console.log('------------News added image----------',imageNewsOrginalPath);

}
          var oneerrorimage = ("origin +'/img/featured/default.png'"); 
          var create_date = response.data.getItemListByType[key].postedDate; 
          var createdOndt = new Date(create_date);
          var createdOndate =  createdOndt.toLocaleString();
          var arr = createdOndate.split(',');
          var split_createdOndate = arr[0];
          const months = ["Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
          let formatted_date =  months[createdOndt.getMonth()]  + " " + createdOndt.getDate() + ", " + createdOndt.getFullYear()

 

suggesthtml += '<div ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" class="card blog-card" rel="bookmark"><div class="card-img-container"> <a target = "blank" href="' + response.data.getItemListByType[key].uniqueIdentifier + '"><img src="'+imageNewsOrginalPath+'" class="card-img" onerror="this.onerror=null; this.src='+oneerrorimage+'"></a></div><article  class="card-body"><div class="row"><h2 class="card-title col-md-10"><a target = "blank" href="' + response.data.getItemListByType[key].uniqueIdentifier + '">' + response.data.getItemListByType[key].title + '</a> <span class="count-tool-i special-text" ><i class="fas fa-info-circle"></i> <span class="special-text__tooltip">'+response.data.getItemListByType[key].note+'</span></span></h2></div> <span class="card-text ch-limit"> ' + response.data.getItemListByType[key].description + ' </span><div class="metrix row count-bt-area"><div class="col-lg-3 count-col-1"><div class="popularity"><div class="clearfix"></div></div> </div><div class="col-lg-5 count-col-2"></div><div class="col-lg-4 count-col-3"> <div class="social-share social-count-display"><a target = "blank" class="fb-share-push fb-share" title="Facebook" data-app="'+projectid+'" data-slug='+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url='+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="https://www.facebook.com/sharer/sharer.php?u='+origin+''+ response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row" data-app="91"><span class="col a"><i class="fab fa-facebook-square cl-f"></i></span><span class="col b"></span></div></a> <a target = "blank" class="twitter-share-push fb-share" title="Twitter" data-twitter="Nil" data-app="'+projectid+'" data-slug="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="https://twitter.com/home?status='+origin+''+ response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row"><span class="col a"><i class="fab fa-twitter-square cl-t"></i></span><span class="col b"></span></div></a> <a target = "blank" class="linkedin-share-push fb-share" title="Linkedin" data-linkedin="Nil" data-app="'+projectid+'" data-slug="'+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier+ '" href="http://www.linkedin.com/shareArticle?url='+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row"><span class="col a"><i class="fab fa-linkedin cl-in"></i></span><span class="col b"></span></div></a> <a class="email-share-push" title="Email" data-app="'+projectid+'" data-slug="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="mailto:?subject=Check out the post, ' + response.data.getItemListByType[key].title + ' in medigy.com &amp;body=' + response.data.getItemListByType[key].title + '&#32;'+origin+'' + response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row" data-app="'+projectid+'"><span class="col a"><i class="fas fa-envelope cl-m"></i></span><span class="col b"></span></div></a><div class="clearfix"></div></div></div></div> <div class="card-subtext muted-text post-tags"><span><b> Posted <time datetime="2019-11-07">'+formatted_date+'</time></b></span><span> | <b>' + response.data.getItemListByType[key].label +'</b> </span></div> <div id = "'+response.data.getItemListByType[key].issueId+'"  onclick = "removeitems($(this))" data-value = "'+ response.data.getItemListByType[key].label +'" class="small-bt-row deleteItem removeitem"><span class="col a"><i class="fas fa-times-circle cl-m"></i></span><span class="col b">Remove</span></div> </article></div>'; 

}
$('#getallsuggest').html(suggesthtml);

});

            
   
        
} 
/// End query for getting suggestion items under suggest tab 


     /// Query for getting News items under events tab       
     $("#award-tab").click(function (e) {

      awardTabListing();

      });

      function awardTabListing(){
     
        
var settings = {
  "async": true,
  "crossDomain": true,
  "url": ilmGraphql,
  "method": "POST",
  "headers": {
    "Content-Type": "application/x-www-form-urlencoded",
    "Accept": "*/*",
    "Accept-Encoding": "gzip, deflate",
    "Connection": "keep-alive",
    "cache-control": "no-cache"
  },
  "data": {    
    "query": "query{\n  getItemListByType(authorization:{sessionID:\""+userSession+"\" } projectId:"+projectid+",type:\"Awards\") {\n  id\n    title\n    description\n    note\n    sourceUrl\n    uniqueIdentifier\n    postedDate\n    imageUrl\n    label\n issueId\n  }\n}\n    \n\n"
  }

}
console.log("query{\n  getItemListByType(authorization:{sessionID:\""+userSession+"\" } projectId:"+projectid+",type:\"Awards\") {\n  id\n    title\n    description\n    note\n    sourceUrl\n    uniqueIdentifier\n    postedDate\n    imageUrl\n    label\n issueId\n }\n}\n    \n\n");//return false;



$.ajax(settings).done(function (response) {
console.log('award type',response);
var awardHtml = "";


for (key in response.data.getItemListByType) {


  var imageNewsPath =  response.data.getItemListByType[key].imageUrl;
  //console.log('------------News added image----------',imageNewsPath);
  var issueId =  response.data.getItemListByType[key].issueId;
  //console.log("issue id",issueId);

   
if(imageNewsPath == '')
{

var imageNewsOrginalPath =  '/events/default.png';

}

else
{

var imageNewsOrginalPath = (origin+imageNewsPath);
console.log('------------award added image----------',imageNewsOrginalPath);

}
          var oneerrorimage = ("origin +'/img/featured/default.png'"); 
          var create_date = response.data.getItemListByType[key].postedDate; 
          var createdOndt = new Date(create_date);
          var createdOndate =  createdOndt.toLocaleString();
          var arr = createdOndate.split(',');
          var split_createdOndate = arr[0];
          const months = ["Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
          let formatted_date =  months[createdOndt.getMonth()]  + " " + createdOndt.getDate() + ", " + createdOndt.getFullYear()

 

awardHtml += '<div ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" class="card blog-card" rel="bookmark"><div class="card-img-container"> <a target = "blank" href="' + response.data.getItemListByType[key].uniqueIdentifier + '"><img src="'+imageNewsOrginalPath+'" class="card-img" onerror="this.onerror=null; this.src='+oneerrorimage+'"></a></div><article  class="card-body"><div class="row"><h2 class="card-title col-md-10"><a target = "blank" href="' + response.data.getItemListByType[key].uniqueIdentifier + '">' + response.data.getItemListByType[key].title + '</a> <span class="count-tool-i special-text" ><i class="fas fa-info-circle"></i> <span class="special-text__tooltip">'+response.data.getItemListByType[key].note+'</span></span></h2></div> <span class="card-text ch-limit"> ' + response.data.getItemListByType[key].description + ' </span><div class="metrix row count-bt-area"><div class="col-lg-3 count-col-1"><div class="popularity"><div class="clearfix"></div></div> </div><div class="col-lg-5 count-col-2"></div><div class="col-lg-4 count-col-3"> <div class="social-share social-count-display"><a target = "blank" class="fb-share-push fb-share" title="Facebook" data-app="'+projectid+'" data-slug='+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url='+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="https://www.facebook.com/sharer/sharer.php?u='+origin+''+ response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row" data-app="91"><span class="col a"><i class="fab fa-facebook-square cl-f"></i></span><span class="col b"></span></div></a> <a target = "blank" class="twitter-share-push fb-share" title="Twitter" data-twitter="Nil" data-app="'+projectid+'" data-slug="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="https://twitter.com/home?status='+origin+''+ response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row"><span class="col a"><i class="fab fa-twitter-square cl-t"></i></span><span class="col b"></span></div></a> <a target = "blank" class="linkedin-share-push fb-share" title="Linkedin" data-linkedin="Nil" data-app="'+projectid+'" data-slug="'+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier+ '" href="http://www.linkedin.com/shareArticle?url='+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row"><span class="col a"><i class="fab fa-linkedin cl-in"></i></span><span class="col b"></span></div></a> <a class="email-share-push" title="Email" data-app="'+projectid+'" data-slug="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="mailto:?subject=Check out the post, ' + response.data.getItemListByType[key].title + ' in medigy.com &amp;body=' + response.data.getItemListByType[key].title + '&#32;'+origin+'' + response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row" data-app="'+projectid+'"><span class="col a"><i class="fas fa-envelope cl-m"></i></span><span class="col b"></span></div></a><div class="clearfix"></div></div></div></div> <div class="card-subtext muted-text post-tags"><span><b> Posted <time datetime="2019-11-07">'+formatted_date+'</time></b></span><span> | <b>' + response.data.getItemListByType[key].label +'</b> </span></div> <div id = "'+response.data.getItemListByType[key].issueId+'"  onclick = "removeitems($(this))" data-value = "'+ response.data.getItemListByType[key].label +'" class="small-bt-row deleteItem removeitem"><span class="col a"><i class="fas fa-times-circle cl-m"></i></span><span class="col b">Remove</span></div> </article></div>'; 

}
$('#getallAwards').html(awardHtml);

});

            
   
        
} 
/// End query for getting suggestion items under suggest tab 


     /// Query for getting Solution items under events tab       
     $("#solution-tab").click(function (e) {

      solutionsTabListing();


      });

      function solutionsTabListing(){
         
        
         var settings = {
           "async": true,
           "crossDomain": true,
           "url": ilmGraphql,
           "method": "POST",
           "headers": {
             "Content-Type": "application/x-www-form-urlencoded",
             "Accept": "*/*",
             "Accept-Encoding": "gzip, deflate",
             "Connection": "keep-alive",
             "cache-control": "no-cache"
           },
           "data": {    
             "query": "query{\n  getItemListByType(authorization:{sessionID:\""+userSession+"\" } projectId:"+projectid+",type:\"Solution\") {\n  id\n    title\n    description\n    note\n    sourceUrl\n    uniqueIdentifier\n    postedDate\n    imageUrl\n    label\n issueId\n }\n}\n    \n\n"
           }
         
         }
         console.log("query{\n  getItemListByType(authorization:{sessionID:\""+userSession+"\" } projectId:"+projectid+",type:\"Solution\") {\n  id\n    title\n    description\n    note\n    sourceUrl\n    uniqueIdentifier\n    postedDate\n    imageUrl\n    label\n issueId\n  }\n}\n    \n\n");//return false;
         
         
         
         $.ajax(settings).done(function (response) {
         console.log('new response type',response);
         var solutionshtml = "";
         
         
         for (key in response.data.getItemListByType) {
         
         
          var imageSolutionPath =  response.data.getItemListByType[key].imageUrl;
        
        
        if(imageSolutionPath == 'undefined')
        {
        
        var issueSolutionPath =  '/img/featured/default.png';
         
        
        }
        
        else
        {
        
        var issueSolutionPath = (imageSolutionPath);
         
        
        }
                   var oneerrorimage = ("origin +'/img/featured/default.png'");   
                   var create_date = response.data.getItemListByType[key].postedDate; 
                   var createdOndt = new Date(create_date);
                   var createdOndate =  createdOndt.toLocaleString();
                   var arr = createdOndate.split(',');
                   var split_createdOndate = arr[0];
                   const months = ["Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
                   let formatted_date =  months[createdOndt.getMonth()]  + " " + createdOndt.getDate() + ", " + createdOndt.getFullYear()
         
          
         
         solutionshtml += '<div ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" class="card blog-card" rel="bookmark"><div class="card-img-container"> <a target = "blank" href="' + response.data.getItemListByType[key].uniqueIdentifier + '"><img src="'+issueSolutionPath+'" class="card-img" onerror="this.onerror=null; this.src='+oneerrorimage+'"></a></div><article  class="card-body"><div class="row"><h2 class="card-title col-md-10"><a target = "blank" href="' + response.data.getItemListByType[key].uniqueIdentifier + '">' + response.data.getItemListByType[key].title + '</a> <span class="count-tool-i special-text" ><i class="fas fa-info-circle"></i> <span class="special-text__tooltip">'+response.data.getItemListByType[key].note+'</span></span></h2></div> <span class="card-text ch-limit"> ' + response.data.getItemListByType[key].description + ' </span><div class="metrix row count-bt-area"><div class="col-lg-3 count-col-1"><div class="popularity"><div class="clearfix"></div></div> </div><div class="col-lg-5 count-col-2"></div><div class="col-lg-4 count-col-3"> <div class="social-share social-count-display"><a target = "blank" class="fb-share-push fb-share" title="Facebook" data-app="'+projectid+'" data-slug='+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url='+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="https://www.facebook.com/sharer/sharer.php?u='+origin+''+ response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row" data-app="91"><span class="col a"><i class="fab fa-facebook-square cl-f"></i></span><span class="col b"></span></div></a> <a target = "blank" class="twitter-share-push fb-share" title="Twitter" data-twitter="Nil" data-app="'+projectid+'" data-slug="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="https://twitter.com/home?status='+origin+''+ response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row"><span class="col a"><i class="fab fa-twitter-square cl-t"></i></span><span class="col b"></span></div></a> <a target = "blank" class="linkedin-share-push fb-share" title="Linkedin" data-linkedin="Nil" data-app="'+projectid+'" data-slug="'+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier+ '" href="http://www.linkedin.com/shareArticle?url='+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row"><span class="col a"><i class="fab fa-linkedin cl-in"></i></span><span class="col b"></span></div></a> <a class="email-share-push" title="Email" data-app="'+projectid+'" data-slug="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="mailto:?subject=Check out the post, ' + response.data.getItemListByType[key].title + ' in medigy.com &amp;body=' + response.data.getItemListByType[key].title + '&#32;'+origin+'' + response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row" data-app="'+projectid+'"><span class="col a"><i class="fas fa-envelope cl-m"></i></span><span class="col b"></span></div></a><div class="clearfix"></div></div></div></div> <div class="card-subtext muted-text post-tags"><span><b> Posted <time datetime="2019-11-07">'+formatted_date+'</time></b></span><span> | <b>' + response.data.getItemListByType[key].label +'</b> </span></div> <div id = "'+response.data.getItemListByType[key].issueId+'"  onclick = "removeitems($(this))" data-value = "'+ response.data.getItemListByType[key].label +'" class="small-bt-row deleteItem removeitem"><span class="col a"><i class="fas fa-times-circle cl-m"></i></span><span class="col b">Remove</span></div> </article></div>'; 
         
         }
         $('#getallsolutions').html(solutionshtml);
         
         });
                   
          
               
       } 
/// End query for getting News items under events tab 

  /// Query for getting Solution items under events tab       
  $("#offering-tab").click(function (e) {

    productsTabListing();


});


function productsTabListing(){
         
         var settings = {
           "async": true,
           "crossDomain": true,
           "url": ilmGraphql,
           "method": "POST",
           "headers": {
             "Content-Type": "application/x-www-form-urlencoded",
             "Accept": "*/*",
             "Accept-Encoding": "gzip, deflate",
             "Connection": "keep-alive",
             "cache-control": "no-cache"
           },
           "data": {    
             "query": "query{\n  getItemListByType(authorization:{sessionID:\""+userSession+"\" } projectId:"+projectid+",type:\"Product\") {\n  id\n    title\n    description\n    note\n    sourceUrl\n    uniqueIdentifier\n    postedDate\n    imageUrl\n    label\n issueId\n  }\n}\n    \n\n"
           }
         
         }
         console.log("query{\n  getItemListByType(authorization:{sessionID:\""+userSession+"\" } projectId:"+projectid+",type:\"Product\") {\n  id\n    title\n    description\n    note\n    sourceUrl\n    uniqueIdentifier\n    postedDate\n    imageUrl\n    label\n issueId\n  }\n}\n    \n\n");//return false;
         
         
         
         $.ajax(settings).done(function (response) {
         console.log('new response type',response);
         var productshtml = "";
         
         
         for (key in response.data.getItemListByType) {
         
         
          var imageProductPath =  response.data.getItemListByType[key].imageUrl;
           
        
        
        if(imageProductPath == 'undefined')
        {
        
        var issueProductPath =  '/img/featured/default.png';
         
        
        }
        
        else
        {
        
        var issueProductPath = (imageProductPath);
         
        
        }
                   var oneerrorimage = ("origin +'/img/featured/default.png'");  
                   var create_date = response.data.getItemListByType[key].postedDate; 
                   var createdOndt = new Date(create_date);
                   var createdOndate =  createdOndt.toLocaleString();
                   var arr = createdOndate.split(',');
                   var split_createdOndate = arr[0];
                   const months = ["Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
                   let formatted_date =  months[createdOndt.getMonth()]  + " " + createdOndt.getDate() + ", " + createdOndt.getFullYear()
         
          
         
         productshtml += '<div ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" class="card blog-card" rel="bookmark"><div class="card-img-container"> <a target = "blank" href="' + response.data.getItemListByType[key].uniqueIdentifier + '"><img src="'+issueProductPath+'" class="card-img" onerror="this.onerror=null; this.src='+oneerrorimage+'"></a></div><article  class="card-body"><div class="row"><h2 class="card-title col-md-10"><a target = "blank" href="' + response.data.getItemListByType[key].uniqueIdentifier + '">' + response.data.getItemListByType[key].title + '</a> <span class="count-tool-i special-text" ><i class="fas fa-info-circle"></i> <span class="special-text__tooltip">'+response.data.getItemListByType[key].note+'</span></span></h2></div> <span class="card-text ch-limit"> ' + response.data.getItemListByType[key].description + ' </span><div class="metrix row count-bt-area"><div class="col-lg-3 count-col-1"><div class="popularity"><div class="clearfix"></div></div> </div><div class="col-lg-5 count-col-2"></div><div class="col-lg-4 count-col-3"> <div class="social-share social-count-display"><a target = "blank" class="fb-share-push fb-share" title="Facebook" data-app="'+projectid+'" data-slug='+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url='+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="https://www.facebook.com/sharer/sharer.php?u='+origin+''+ response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row" data-app="91"><span class="col a"><i class="fab fa-facebook-square cl-f"></i></span><span class="col b"></span></div></a> <a target = "blank" class="twitter-share-push fb-share" title="Twitter" data-twitter="Nil" data-app="'+projectid+'" data-slug="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="https://twitter.com/home?status='+origin+''+ response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row"><span class="col a"><i class="fab fa-twitter-square cl-t"></i></span><span class="col b"></span></div></a> <a target = "blank" class="linkedin-share-push fb-share" title="Linkedin" data-linkedin="Nil" data-app="'+projectid+'" data-slug="'+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier+ '" href="http://www.linkedin.com/shareArticle?url='+origin+'/offering/' + response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row"><span class="col a"><i class="fab fa-linkedin cl-in"></i></span><span class="col b"></span></div></a> <a class="email-share-push" title="Email" data-app="'+projectid+'" data-slug="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+'/news/' + response.data.getItemListByType[key].uniqueIdentifier + '" href="mailto:?subject=Check out the post, ' + response.data.getItemListByType[key].title + ' in medigy.com &amp;body=' + response.data.getItemListByType[key].title + '&#32;'+origin+'' + response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row" data-app="'+projectid+'"><span class="col a"><i class="fas fa-envelope cl-m"></i></span><span class="col b"></span></div></a><div class="clearfix"></div></div></div></div> <div class="card-subtext muted-text post-tags"><span><b> Posted <time datetime="2019-11-07">'+formatted_date+'</time></b></span><span> | <b>' + response.data.getItemListByType[key].label +'</b> </span></div> <div id = "'+response.data.getItemListByType[key].issueId+'"  onclick = "removeitems($(this))" data-value = "'+ response.data.getItemListByType[key].label +'" class="small-bt-row deleteItem removeitem"><span class="col a"><i class="fas fa-times-circle cl-m"></i></span><span class="col b">Remove</span></div> </article></div>'; 
         
         }
         $('#getallofferings').html(productshtml);
         
         });
                     
            
                 
         } 
/// End query for getting News items under events tab

  /// Query for getting Solution items under events tab       
  $("#service-tab").click(function (e) {

    servicesTabListing()   

});


function servicesTabListing(){
        
        
        var settings = {
          "async": true,
          "crossDomain": true,
          "url": ilmGraphql,
          "method": "POST",
          "headers": {
            "Content-Type": "application/x-www-form-urlencoded",
            "Accept": "*/*",
            "Accept-Encoding": "gzip, deflate",
            "Connection": "keep-alive",
            "cache-control": "no-cache"
          },
          "data": {    
            "query": "query{\n  getItemListByType(authorization:{sessionID:\""+userSession+"\" } projectId:"+projectid+",type:\"Service\") {\n  id\n    title\n    description\n    note\n    sourceUrl\n    uniqueIdentifier\n    postedDate\n    imageUrl\n    label\n issueId\n  }\n}\n    \n\n"
          }
        
        }
        console.log("query{\n  getItemListByType(authorization:{sessionID:\""+userSession+"\" } projectId:"+projectid+",type:\"Service\") {\n  id\n    title\n    description\n    note\n    sourceUrl\n    uniqueIdentifier\n    postedDate\n    imageUrl\n    label\n issueId\n  }\n}\n    \n\n");//return false;
        
        
        
        $.ajax(settings).done(function (response) {
        console.log('new response type',response);
        var serviceshtml = "";
        
        
        for (key in response.data.getItemListByType) {
        
        
          var imageServicePath =  response.data.getItemListByType[key].imageUrl;
        
        
        if(imageServicePath == 'undefined')
        {
        
        var issueServicePath =  '/img/featured/default.png';
         
        
        }
        
        else
        {
        
        var issueServicePath = (imageServicePath);
         
        
        }
        
                  var oneerrorimage = ("origin +'/img/featured/default.png'"); 
                  var create_date = response.data.getItemListByType[key].postedDate; 
                  var createdOndt = new Date(create_date);
                  var createdOndate =  createdOndt.toLocaleString();
                  var arr = createdOndate.split(',');
                  var split_createdOndate = arr[0];
                  const months = ["Jan", "Feb", "Mar","Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
                  let formatted_date =  months[createdOndt.getMonth()]  + " " + createdOndt.getDate() + ", " + createdOndt.getFullYear()
         
        
        serviceshtml += '<div ontouchstart="cardPressed.call(this)" ontouchend="cardReleased.call(this)" ontouchmove="cardReleased.call(this)" class="card blog-card" rel="bookmark"><div class="card-img-container"> <a target = "blank" href="' + response.data.getItemListByType[key].uniqueIdentifier + '"><img src="'+issueServicePath+'" class="card-img" onerror="this.onerror=null; this.src='+oneerrorimage+'"></a></div><article  class="card-body"><div class="row"><h2 class="card-title col-md-10"><a target = "blank" href="' + response.data.getItemListByType[key].uniqueIdentifier + '">' + response.data.getItemListByType[key].title + '</a> <span class="count-tool-i special-text" ><i class="fas fa-info-circle"></i> <span class="special-text__tooltip">'+response.data.getItemListByType[key].note+'</span></span></h2></div> <span class="card-text ch-limit"> ' + response.data.getItemListByType[key].description + ' </span><div class="metrix row count-bt-area"><div class="col-lg-3 count-col-1"><div class="popularity"><div class="clearfix"></div></div> </div><div class="col-lg-5 count-col-2"></div><div class="col-lg-4 count-col-3"> <div class="social-share social-count-display"><a target = "blank" class="fb-share-push fb-share" title="Facebook" data-app="'+projectid+'" data-slug='+origin+response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url='+origin+response.data.getItemListByType[key].uniqueIdentifier + '" href="https://www.facebook.com/sharer/sharer.php?u='+origin+response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row" data-app="91"><span class="col a"><i class="fab fa-facebook-square cl-f"></i></span><span class="col b"></span></div></a> <a target = "blank" class="twitter-share-push fb-share" title="Twitter" data-twitter="Nil" data-app="'+projectid+'" data-slug="'+origin+response.data.getItemListByType[key].uniqueIdentifier +'" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+response.data.getItemListByType[key].uniqueIdentifier +'" href="https://twitter.com/home?status='+origin+response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row"><span class="col a"><i class="fab fa-twitter-square cl-t"></i></span><span class="col b"></span></div></a> <a target = "blank" class="linkedin-share-push fb-share" title="Linkedin" data-linkedin="Nil" data-app="'+projectid+'" data-slug="'+origin+response.data.getItemListByType[key].uniqueIdentifier + '" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+response.data.getItemListByType[key].uniqueIdentifier +'" href="http://www.linkedin.com/shareArticle?url='+origin+response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row"><span class="col a"><i class="fab fa-linkedin cl-in"></i></span><span class="col b"></span></div></a> <a class="email-share-push" title="Email" data-app="'+projectid+'" data-slug="'+origin+response.data.getItemListByType[key].uniqueIdentifier +'" data-name="'+ response.data.getItemListByType[key].title +'" data-safe-url="'+origin+response.data.getItemListByType[key].uniqueIdentifier + '" href="mailto:?subject=Check out the post, ' + response.data.getItemListByType[key].title + ' in medigy.com &amp;body=' + response.data.getItemListByType[key].title + '&#32;'+origin+response.data.getItemListByType[key].uniqueIdentifier +'"><div class="small-bt-row" data-app="'+projectid+'"><span class="col a"><i class="fas fa-envelope cl-m"></i></span><span class="col b"></span></div></a><div class="clearfix"></div></div></div></div> <div class="card-subtext muted-text post-tags"><span><b> Posted <time datetime="2019-11-07">'+formatted_date+'</time></b></span><span> | <b>' + response.data.getItemListByType[key].label +'</b> </span></div> <div id = "'+response.data.getItemListByType[key].issueId+'"  onclick = "c($(this))" data-value = "'+ response.data.getItemListByType[key].label +'" class="small-bt-row deleteItem removeitem"><span class="col a"><i class="fas fa-times-circle cl-m"></i></span><span class="col b">Remove</span></div> </article></div>'; 
        
        }
        $('#getallservices').html(serviceshtml);
        
        });
                    
           
                
        } 
/// End query for getting News items under events tab
     
        console.log("-----1233------");
        //console.log("gitlabname",response.data.getProjectDetails.projectName);
        console.log(response)       
         setCookie('projectId', response.data.getProjectDetails.projectId);

        $('#ilmprojectsdetailsloading').hide();
        

        var analytics = response.data.getProjectDetails.analytics;

        var totalOfferingsCount = parseInt(analytics.offeringTotalCount);
        if(analytics.offeringProductCount == '0')
        {
          var nilOffering = '<div class = "font-15">Currently you have not added any product to this ILM project. You can start adding products to this ILM project, from the offerings home page. To find the offerings that you want to evaluate under this ILM project, you can either browse through the <a href = "/brief/daily/offerings/discovered/"><u>discovered offerings</u></a> or use site search on masthead. And once you are on the offering home page, you just need to click on the button "Add to ILM Project" and select this Project from the select list to add those here.</div>'
        }

        $('#noproducts').html(nilOffering);

        if(analytics.offeringSolutionCount == '0')
        {
          var nilsolutions = '<div class = "font-15">Currently you have not added any solution to this ILM project. You can start adding solutions to this ILM project, from the offerings home page. To find the offerings that you want to evaluate under this ILM project, you can either browse through the <a href = "/brief/daily/offerings/discovered/"><u>discovered offerings</u></a> or use site search on masthead. And once you are on the offering home page, you just need to click on the button "Add to ILM Project" and select this Project from the select list to add those here.</div>'
        }

        $('#nosolutions').html(nilsolutions);

        
        if(analytics.offeringServiceCount == '0')
        {
          var nilservices = '<div class = "font-15">Currently you have not added any service to this ILM project. You can start adding services to this ILM project, from the offerings home page. To find the offerings that you want to evaluate under this ILM project, you can either browse through the <a href = "/brief/daily/offerings/discovered/"><u>discovered offerings</u></a> or use site search on masthead. And once you are on the offering home page, you just need to click on the button "Add to ILM Project" and select this Project from the select list to add those here.</div>'
        }

        $('#noservices').html(nilservices);


        if(analytics.newsTotalCount == '0')
        {
          var nilnews = '<div class = "font-15">Currently you have not added any news to this ILM project. You can start adding news to this ILM project, from the news page. To find the news that you want to evaluate under this ILM project, you can browse through the <a href = "/news/"><u>news page</u></a> or use site search on masthead. And once you are on the news page, you just need to click on the button "Add to ILM Project" and select this Project from the select list to add those here.</div>'
        }

        $('#noNews').html(nilnews);


           if(analytics.eventsTotalCount == '0')
        {
          var nilevents = '<div class = "font-15">Currently you have not added any events to this ILM project. You can start adding events to this ILM project, from the events page. To find the event that you want to evaluate under this ILM project, you can browse through the <a href = "/events/"><u>events page</u></a> or use site search on masthead. And once you are on the events page, you just need to click on the button "Add to ILM Project" and select this Project from the select list to add those here.</div>'
        }

        $('#noEvents').html(nilevents);

        if(analytics.offeringSuggestCount == '0')
        {
          var nilsuggest = '<div class = "font-15">This tab serves you like a notebook. You can add any resources to this ILM for  future references and research.</div>'
        }

        $('#noSuggest').html(nilsuggest);

        if(analytics.offeringAwardsCount == '0')
        {
          var nilaward = '<div class = "font-15">Currently you have not added any awards to this ILM project. You can start adding awards to this ILM project, from the awards page. To find the award that you want to evaluate under this ILM project, you can browse through the <a href = "/recognition/awards/"><u>awards page</u></a> or use site search on masthead. And once you are on the awards page, you just need to click on the button "Add to ILM Project" and select this Project from the select list to add those here.</div>'
        }

        $('#noAward').html(nilaward);



 
        var totalNewsCount = parseInt(analytics.newsTotalCount);
        var totalEventsCount = parseInt(analytics.eventsTotalCount);
        var totalproductsCount = parseInt(analytics.offeringProductCount);
        var totalservicesCount = parseInt(analytics.offeringServiceCount);
        var totalsolutionsCount = parseInt(analytics.offeringSolutionCount);
        var totalsuggestCount = parseInt(analytics.offeringSuggestCount);
        var totalAwardsCount = parseInt(analytics.offeringAwardsCount);
        //  console.log(analytics,totalOfferingsCount,totalNewsCount,totalEventsCount);
        var totalcount = (totalproductsCount + totalNewsCount +  totalEventsCount + totalservicesCount + totalsolutionsCount + totalsuggestCount + totalAwardsCount); 

        

        var totalinsight = '<span class="total-count-1">Total: <strong>' + totalcount + '</strong></span><span class="total-count-1">Products: <strong>' + analytics.offeringProductCount + '</strong></span><span class="total-count-1">Solutions: <strong>' + analytics.offeringSolutionCount + '</strong></span><span class="total-count-1">Services: <strong>' + analytics.offeringServiceCount + '</strong></span><span class="total-count-1">News: <strong>' + analytics.newsTotalCount + '</strong></span> <span class="total-count-1">Events: <strong>' + analytics.eventsTotalCount + '</strong></span><span class="total-count-1">Awards: <strong>' + analytics.offeringAwardsCount + '</strong></span><span class="total-count-1">Suggest: <strong>' + analytics.offeringSuggestCount + '</strong></span>';
        $('#projecttotalinsight').html(totalinsight);



        // console.log(response);
             //Looping for events
        

       //Looping for events ends 
        var heading = '<h2 id = "searchTitle" class="category-heading">' + response.data.getProjectDetails.projectName + ' </h2>  <br />' + response.data.getProjectDetails.projectDescription;
        var editHead    = response.data.getProjectDetails.projectName;
        var editDescILM = response.data.getProjectDetails.projectDescription;
        var searchTitle= response.data.getProjectDetails.projectName

        
        $('.projectNameforHistory').html(searchTitle);  
        $('#ilmprojectdetails').html(heading);
        $("#editProjectID").val(response.data.getProjectDetails.projectId);

        

         

      //var totalCount = '<strong>' + response.data.getProjectDetails.offerings.length + '</strong>';
        var projectid = response.data.getProjectDetails.projectId;

        projectId = projectid;
        var offeringhtml = [];
        var newshtml = "";
        var eventshtml = "";
               
         

      //      response.data.getProjectDetails.offerings.forEach(function(element) {
      //       var jsonitems = element.permaLink;

      //       var jsonEndPoint = origin + '/offering/' + jsonitems+ '/' + 'index.json';
      //       console.log('orgineeeeeeee next check',jsonEndPoint);
      //    getImageUrl(jsonEndPoint,element.id, doImageBinding);
        
      // });

      $('a[data-toggle="tab"]').on('show.bs.tab', function(e) {
          localStorage.setItem('activeIlmTab', $(e.target).attr('href'));
          var selected = $(e.target).attr('href');
          if(selected == "#events")

          {

              eventTabListing();
            
          }
          else if (selected == "#news")
          {
            newsTabListing();

          }

          else if (selected == "#offering")
          {
            productsTabListing();

          }

          else if (selected == "#solutions")
          {
            solutionsTabListing();

          }

          else if (selected == "#services")
          {
            servicesTabListing();

          }

           else if (selected == "#intake")
          {
            suggestTabListing();

          }

          else if (selected == "#award")
          {
            awardTabListing();

          }
 
 

          else{
            productsTabListing();
          }
      });
      var activeIlmTab = localStorage.getItem('activeIlmTab');

      if(activeIlmTab){
          $('#myTab a[href="' + activeIlmTab + '"]').tab('show');
      }else{
          $('a[href="' + "#dailybrief" + '"]').addClass( "active" );
      }
         
 



        

          // Project subscription fetching starts here
          var searchWord = '';
          var search_es = '';
          var search_topics='';

          var topics = [];
          var i = 0; j = 0;
          for (key in response.data.getProjectDetails.subscription) {

            if(response.data.getProjectDetails.subscription[key].type == 'search')
            {
              searchWord += response.data.getProjectDetails.subscription[key].keyword+',';
              search_es += response.data.getProjectDetails.subscription[key].keyword+' ';


            }
            else if(response.data.getProjectDetails.subscription[key].type == 'topic')
            {
              topics[j] = response.data.getProjectDetails.subscription[key].keyword+'$';
              //$('#editTopics').val(topics[j]);
              search_topics +=response.data.getProjectDetails.subscription[key].keyword+' ';

              j++;
            }

          }
          
          if(searchWord != '')   
          executeSearch(search_es+' '+search_topics);
          else
          executeSearch(editHead+' '+search_topics);



          // console.log('-------------------------************************---------------------------');
          // console.log(topics);
          // console.log(searchWord);

          $('#editTempTopics').val(topics);
         // $("#editTopics").select2().trigger('change');
         // $('#editTopics').select2();
         if(searchWord != '')    
          $('#editSearchKeyword').val(searchWord);
        else
        $("#editSearchKeyword").val(editHead);
/*           $('#editTopics').val(["Medigy: Interoperability Product Testing$,", "HIMSS: Telecommunications$,", "PHS iHub: Care coordination$,"]);
          setTimeout(function(){
            $('#editTopics').trigger('change');
          },100); */
          
          // Project subscription fetching ends here
 
   

            /// End of History tab ////

        $('#getallservices').html(offeringhtml['Service']);

        $('#getallnews').html(newshtml);
        $('#getallevents').html(eventshtml);
        $('#whatsNewCategory').html(response.data.getProjectDetails.projectName);
        $('#ilmProjectName').val(response.data.getProjectDetails.projectName);
        //$('#projecttotalinsight').html(totalinsight);
        //$('#noOfferings').html(nilOffering);
        //$('#noNews').html(nilnews);
        //$('#noEvents').html(nilevents);
        $("#editTitle").val(editHead);
        $("#editDesc").val(editDescILM);
        $("#editProjectID").val(projectid);
        //$("#removeNews").val(token_news);
        //$("#removeEvents").val(token_events);
        $("#removeIdOfferings").val(offeringID);
        
        

         $('#addtoilm').click(function(){
          
         var splittedTopics = $('#editTempTopics').val().split(',');
          $('#editTopics').val(splittedTopics);
            $('#editTopics').trigger('change');
         });
 

        /// Followed Get data starts here ////
       var personid = getCookie('personid'); 
        var settings = {
          "async": true,
          "crossDomain": true,
          "url": ilmGraphql,
          "method": "POST",
          "headers": {
            "Content-Type": "application/x-www-form-urlencoded",
            "Accept": "*/*",
            "Cache-Control": "no-cache",
            "Connection": "keep-alive"
          },
          "data": {
            "query": "query{\n  getPromData(metricName:\"medigy_qual_exp_project_usedby\",metricQuery:\"{projectId=\\\"" + projectId + "\\\"}[2y]\"){\n    prometheusData\n    status\n  }\n}"
          }
        }
       $.ajax(settings).done(function (response) {


          if (response.data.getPromData.status == "success") {
            var JSONData = JSON.parse(response.data.getPromData.prometheusData);
            //console.log(JSONData.length);
            if (JSONData.length > 0) {
              $('#gitUsedBy').html(JSONData.length);
              $('#gitUsedByCountDiv').show();
              $.each(JSONData, function(i, obj) {     
                   var userId=obj.userId;  
                  if(getCookie('personid')==userId){
                   usedByClick=false;  
                   $("#used_by").css('cursor','default');
                     return false;         
                   } 
                }); 
            }
          }
        });

        /// Followed Get data ends here ////


        /// watcher Get data starts here ////
        var personid = getCookie('personid');
        var settingsWatch = {
          "async": true,
          "crossDomain": true,
          "url": ilmGraphql,
          "method": "POST",
          "headers": {
            "Content-Type": "application/x-www-form-urlencoded",
            "Accept": "*/*",
            "Cache-Control": "no-cache",
            "Connection": "keep-alive"
          },
          "data": {
            "query": "query{\n  getPromData(metricName:\"medigy_qual_exp_project_watch\",metricQuery:\"{projectId=\\\"" + projectId + "\\\"}[2y]\"){\n    prometheusData\n    status\n  }\n}"
          }
        }
        $.ajax(settingsWatch).done(function (response) {
          if (response.data.getPromData.status == "success") {
            var JSONData = JSON.parse(response.data.getPromData.prometheusData);
            if (JSONData.length > 0) {
               $('#gitWatcher').html(JSONData.length);
              $('#gitWatcherCountDiv').show();
               $.each(JSONData, function(i, obj) {     
                   var userId=obj.userId;
                   if(getCookie('personid')==userId){
                      WatcherClick=false;                                    
                      $("#watcherclick").css('cursor','default');
                     return false;         
                   } 
                });
            }
          }
        });
        /// watcher Get data ends here ////

        /// star Get data starts here ////
        var personid = getCookie('personid');
        var settingsStar = {
          "async": true,
          "crossDomain": true,
          "url": ilmGraphql,
          "method": "POST",
          "headers": {
            "Content-Type": "application/x-www-form-urlencoded",
            "Accept": "*/*",
            "Cache-Control": "no-cache",
            "Connection": "keep-alive"
          },
          "data": {
            "query": "query{\n  getPromData(metricName:\"medigy_qual_exp_project_star\",metricQuery:\"{projectId=\\\"" + projectId + "\\\"}[2y]\"){\n    prometheusData\n    status\n  }\n}"
          }
        }

        $.ajax(settingsStar).done(function (response) {

          if (response.data.getPromData.status == "success") {
            var JSONData = JSON.parse(response.data.getPromData.prometheusData);
            if (JSONData.length > 0) {

             $('#gitStar').html(JSONData.length);
              $('#gitStarCountDiv').show();
            $.each(JSONData, function(i, obj) {     
                   var userId=obj.userId;                                 
                   if(getCookie('personid')==userId){ 
                     starClick=false;                                      
                      $("#starclick").css('cursor','default');
                     return false;         
                   } 
                });
            }
          }
        });
        /// star Get data ends here ////


        /// ask a question Get data starts here ////
        var settings = {
          "async": true,
          "crossDomain": true,
          "url": ilmGraphql,
          "method": "POST",
          "headers": {
            "Content-Type": "application/x-www-form-urlencoded",
            "Accept": "*/*",
            "Cache-Control": "no-cache",
            "Connection": "keep-alive"
          },
          "data": {
            "query": "query{\n  getPromData(metricName:\"medigy_qual_exp_project_questions\",metricQuery:\"{projectId=\\\"" + projectId + "\\\"}[2y]\"){\n    prometheusData\n    status\n  }\n}"
          }
        }
       $.ajax(settings).done(function (response) {

          if (response.data.getPromData.status == "success") {
            var JSONData = JSON.parse(response.data.getPromData.prometheusData);
   
            if (JSONData.length > 0) {
              $('#gitAskQuestion').html(JSONData.length);
              $('#gitAskQuestionCountDiv').show();
            }
          }
        });

        /// ask a question Get data ends here ////

         var settings = {
            "async": true,
            "crossDomain": true,
            "url": ilmGraphql,
            "method": "POST",
            "headers": {
              "Content-Type": "application/x-www-form-urlencoded",
              "Accept": "*/*",
              "Cache-Control": "no-cache",
              "Connection": "keep-alive"
            },
            "data": {
              "query": "query{\n  getPromData(metricName:\"medigy_qual_exp_project_questions\",metricQuery:\"{projectId=\\\""+projectId+"\\\"}[2y]\"){\n    prometheusData\n    status\n  }\n}"
            }
          }
          $.ajax(settings).done(function (questionResponse) {
    
            
          if(questionResponse.data.getPromData.status == "success")
          {
            var JSONData = JSON.parse(questionResponse.data.getPromData.prometheusData);
            var questionCollection = [];
            for(var i = 0; i < JSONData.length; i++) {
            var obj = JSONData[i];   
            questionCollection.push({id:obj.offeringId,ques:obj.questionTitle});
            }
            if(JSONData.length > 0)
            {                    
              var questionlist="";
              for(j = 0; j < (questionCollection.length); j++)
              {
                questionlist += '<div class="new-ofering-row-5-cell-1-list col-md-12 mb-1 mt-2">';    
                questionlist += '<div class="">'+ '<i class="fas fa-caret-right"></i> ' +questionCollection[j]["ques"]+'</div> '; 
                questionlist += '<div class="clearfix"></div>';
                questionlist += '</div>';
              }

              $('#questionCollectionDiv').html(questionlist);                   
          }
          }
        });



      });

      /// Followed by  Push data starts here ////
      var usedByClick=true;
      $(".usedBy").on("click", function (e) {
        e.preventDefault();
         if(usedByClick){ 
        if ($(this).hasClass("checked")) {
          console.log('exists'); return false;
        }
        else {
          var personid = getCookie('personid');
          if (personid != '' && personid != null) {
            $(this).addClass("checked");
            $(this).css('cursor', 'default');

            var session = getCookie('sessionId');

            var settings = {
              "async": true,
              "crossDomain": true,
              "url": ilmGraphql,
              "method": "POST",
              "headers": {
                "Content-Type": "application/x-www-form-urlencoded",
                "Accept": "*/*",
                "Cache-Control": "no-cache",
                "Connection": "keep-alive"
              },
              "data": {
                "query": "mutation {\n  addPrometheusData(\n    metricData: [\n    \t{\n        key: \"projectId\", \n        value: \"" + projectId + "\"\n      }, \n      {\n        key: \"userId\", \n        value: \"" + personid + "\"\n      }\n    ], \n    pushGatewayPort: \"\", \n    prometheusJobName: \"medigy_qual_exp_project_usedby\", \n    metricName: \"medigy_qual_exp_project_usedby\") {\n    status\n    message\n    errorCode\n  }\n}"
              }
            }
            $.ajax(settings).done(function (response) {

              if (response.data.addPrometheusData.status == "SUCCESS") {
                var usedBy = $('#gitUsedBy').html();
                if (usedBy != '') {
                  usedBy = parseInt(usedBy) + 1;

                }
                else {
                  usedBy = 1;
                }
                $('#gitUsedBy').html(usedBy);
                $('#gitUsedByCountDiv').show();
              }
            });

          }
          else {
            $('#loginModalCenter').modal('toggle');
          }
        }
         }
      });

      /// Followed by Push data ends here ////

      /// watcher Push data starts here 
        var WatcherClick=true;
      $(".watcher").on("click", function (e) {
         e.preventDefault();
          if(WatcherClick){ 
        if ($(this).hasClass("checked")) {
          console.log('exists'); return false;
        }
        else {
          var personid = getCookie('personid');
          if (personid != '' && personid != null) {
            $(this).addClass("checked");
            $(this).css('cursor', 'default');

            var session = getCookie('sessionId');
            var settings = {
              "async": true,
              "crossDomain": true,
              "url": ilmGraphql,
              "method": "POST",
              "headers": {
                "Content-Type": "application/x-www-form-urlencoded",
                "Accept": "*/*",
                "Cache-Control": "no-cache",
                "Connection": "keep-alive"
              },
              "data": {
                "query": "mutation {\n  addPrometheusData(\n    metricData: [\n    \t{\n        key: \"projectId\", \n        value: \"" + projectId + "\"\n      }, \n      {\n        key: \"userId\", \n        value: \"" + personid + "\"\n      }\n    ], \n    pushGatewayPort: \"\", \n    prometheusJobName: \"medigy_qual_exp_project_watch\", \n    metricName: \"medigy_qual_exp_project_watch\") {\n    status\n    message\n    errorCode\n  }\n}"
              }
            }
            $.ajax(settings).done(function (response) {
              if (response.data.addPrometheusData.status == "SUCCESS") {
                var watcher = $('#gitWatcher').html();
                if (watcher != '') {
                  watcher = parseInt(watcher) + 1;
                }
                else {
                  watcher = 1;
                }
                $('#gitWatcher').html(watcher);
                $('#gitWatcherCountDiv').show();
              }
            });

          }
          else {
            $('#loginModalCenter').modal('toggle');
          }
        }
      }
      });
      /// watcher Push data ends here ////


      /// star Push data starts here ////gitStarCountDiv,gitStar,
      var starClick=true;
      $(".star").on("click", function (e) {

        e.preventDefault();
        if(starClick){
        //  if ($(this).attr('disabled')) {
        if ($(this).hasClass("checked")) {
          console.log('exists'); return false;
        }
        else {
          var personid = getCookie('personid');
          if (personid != '' && personid != null) {
            //$(this).attr("disabled", "disabled");
            $(this).addClass("checked");
            $(this).css('cursor', 'default');

            var session = getCookie('sessionId');
            var settings = {
              "async": true,
              "crossDomain": true,
              "url": ilmGraphql,
              "method": "POST",
              "headers": {
                "Content-Type": "application/x-www-form-urlencoded",
                "Accept": "*/*",
                "Cache-Control": "no-cache",
                "Connection": "keep-alive"
              },
              "data": {
                "query": "mutation {\n  addPrometheusData(\n    metricData: [\n    \t{\n        key: \"projectId\", \n        value: \"" + projectId + "\"\n      }, \n      {\n        key: \"userId\", \n        value: \"" + personid + "\"\n      }\n    ], \n    pushGatewayPort: \"\", \n    prometheusJobName: \"medigy_qual_exp_project_star\", \n    metricName: \"medigy_qual_exp_project_star\") {\n    status\n    message\n    errorCode\n  }\n}"
              }
            }
            $.ajax(settings).done(function (response) {
              if (response.data.addPrometheusData.status == "SUCCESS") {
                var star = $('#gitStar').html();
                if (star != '') {
                  star = parseInt(star) + 1;
                }
                else {
                  star = 1;
                }
                $('#gitStar').html(star);
                $('#gitStarCountDiv').show();
              }
            });

          }
          else {
            $('#loginModalCenter').modal('toggle');
          }
        }
        }
      });
      /// star Push data ends here ////


      //// Questions creation starts here /////
      $('#questionButton').on("click", function (e) {
        // alert("button clicked");
        e.preventDefault();
        if ($(this).attr('disabled')) {
          console.log('exists'); return false;
        }
        else {
          var prjectName = $(this).attr('productname');
          var r = confirm("Do you want to ask a question about this project?");
          if (r == true) {
            if (getCookie('personid') != null) {
              $('#questionButton').prop("disabled", true);

              var personId = getCookie('personid');
              var questionTitle = $('#questionTitle').val();
              var dt = new Date();
              var questionId = dt.getDate() + "-" + (dt.getMonth() + 1) + "-" + dt.getFullYear() + "-" + dt.getHours() + "-" + dt.getMinutes() + "-" + dt.getSeconds();
              var settings = {
                "async": true,
                "crossDomain": true,
                "url": ilmGraphql,
                "method": "POST",
                "headers": {
                  "Content-Type": "application/x-www-form-urlencoded",
                  "Accept": "*/*",
                  "Cache-Control": "no-cache",
                  "Connection": "keep-alive"
                },
                "data": {
                  "query": "mutation {\n  addPrometheusData(\n    metricData: [\n    \t{\n        key: \"projectId\", \n        value: \"" + projectId + "\"\n     }, \n      {\n        key: \"questionTitle\", \n        value: \"" + questionTitle + "\"\n      }, \n      {\n        key: \"questionId\", \n        value: \"" + questionId + "\"\n      }, \n     {\n        key: \"userId\", \n        value: \"" + personId + "\"\n      }\n    ], \n    pushGatewayPort: \"\", \n    prometheusJobName: \"medigy_qual_exp_project_questions\", \n    metricName: \"medigy_qual_exp_project_questions\") {\n    status\n    message\n    errorCode\n  }\n}"
                }
              }
              $.ajax(settings).done(function (response) {
                if (response.data.addPrometheusData.status == "SUCCESS") {
                  $('#questionMessage').html("");
                  var questionCollection = '';
                  $('#questionMessage').removeClass('alert-danger');
                  $('#questionMessage').addClass('alert-success');
                  questionCollection += '<div class="new-ofering-row-5-cell-1-list col-md-12 mb-1 mt-2">';
                  questionCollection += '<div class="">' + '<i class="fas fa-caret-right"></i> ' + questionTitle + '</div> ';
                  questionCollection += '<div class="clearfix"></div>';
                  questionCollection += '</div>';



                  $("#questionCollectionDiv").append(questionCollection);
                  //$('#questionCollectionDiv').html(questionCollection)1;
                  $('#questionMessage').append("Question successfully submitted.");
                  $('#questionTitle').val('');
                  $('#questionMessage').show();
                  $('#questionButton').prop("disabled", false);

                  // To show updated count next to button
                  var currentQuestioncount = $('#gitAskQuestion').html();
                  if (currentQuestioncount != '') {
                    updatedcount = parseInt(currentQuestioncount) + 1;
                  }
                  else {
                    updatedcount = 1;
                  }
                  $('#gitAskQuestion').html(updatedcount);
                  $('#gitAskQuestionCountDiv').show();
                }
                else {
                  alert("failed case");
                  $('#questionMessage').html("");
                  $('#questionMessage').removeClass('alert-success');
                  $('#questionMessage').addClass('alert-danger');
                  $('#questionMessage').html("Question failed to submit.");
                  $('#questionMessage').show();
                  $('#questionMessage').prop("disabled", false);
                }
              });
            }
            else {
              $('#loginModalCenter').modal('toggle');
            }
          }
        }
      });



      /// Ask a question Push data starts here ////

      $(".askQuestion").on("click", function (e) {

        e.preventDefault();
        if ($(this).hasClass("checked")) {
          //console.log('exists'); return false;
        }
        else {
          var personid = getCookie('personid');
          if (personid != '' && personid != null) {
            $('#questionTitle').focus();

            // $(this).addClass("checked");
            $(this).css('cursor', 'default');

          }
          else {
            $('#loginModalCenter').modal('toggle');
          }
        }
      });

      /// Ask a question Push data ends here ////



    });
  </script>
  <!-- community category strats here -->
  <section class="detail-wrapper">
    <h2 id="category-title" style="display:none">{{ .Title }} </h2>
    <article class="new-ofering-row-3 commun-content-row-3">
      <div class="container">

        <div itemscope="" itemtype="https://schema.org/WebPage">
<div itemprop="breadcrumb" itemscope="" itemtype="https://schema.org/BreadcrumbList">
<div id="breadcrumbs" class="new-ofer-breadcrumbs">
  <nav aria-label="breadcrumb mx-auto" role="navigation">
    <ol class="breadcrumb" itemprop="itemListElement" itemscope="" itemtype="http://schema.org/ListItem">
       
      
      <li class="breadcrumb-item">
        <a itemprop="item" href="/">
          <span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1">
      </li>
       
      
      <li class="breadcrumb-item">
        <a itemprop="item" href="/modules/innovation-lifecycle-management/">
          <span itemprop="name">Innovation Lifecycle Management (ILM)</span></a>
          <meta itemprop="position" content="2">
      </li>
       
      
      <li class="breadcrumb-item active" aria-current="page">Project</li>
       
    </ol>
  </nav>
      <div id="es_total" class="pull-right" style="display:none"></div>
</div>
</div>
</div>
        
        <div id = "deleteProjectSuccess"  class="text-center w-100" role="alert"> </div>

        <div class="row">
          <div class="col-lg-9">
  
            <div id="ilmprojectdetails" class="new-ofering-row-3-left-cell-1 no-border">
  
            </div>

          </div>

          <!-- Invite Modal -->
          <div class="modal fade" id="Category_Offering_Invite" tabindex="-1" role="dialog" aria-labelledby="inviteModalCenterTitle"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="Quantitative_Evaluation_Invitation_Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body ">
                  <article class="post-login">
                    <form name="inviteform" id="">
                      <h2>Invite to ILM Project</h2>
                      <div class="form-group row">
                        <label for="firstName" class="col-sm-12">First Name</label>
                        <div class="col-sm-12">
                          <input class="form-control" id="inviteFirstNameilm" name="inviteFirstNameilm" type="text" required placeholder = "First Name">
                        </div>
                      </div>
                      <div class="form-group row">
                        <label for="firstName" class="col-sm-12">Last Name</label>
                        <div class="col-sm-12">
                          <input class="form-control" id="inviteLastNameilm" name="inviteLastNameilm" type="text" required placeholder = "Last Name">
                        </div>
                      </div>

                      <div class="form-group row">
                        <label for="email" class="col-sm-12">Email id to invite</label>
                        <div class="col-sm-12">
                          <input class="form-control" id="inviteEmaililm" name="inviteEmaililm" type="email" required placeholder = "Email id to invite">
                        </div>
                      </div>
                      <div class="form-group row">
                        <div class="col-sm-12">
                        </div>
                      </div>

                      <div class="text-left">

                        <input name="ilmProjectName" type="hidden" value="" id="ilmProjectName">
                        <input name="ilmProjectID" type="hidden" value="" id="ilmProjectID">
                         <input name="ilmProjectID" type="hidden" value="" id="removeIdOfferings">

                        

                  <input type="submit" value="SEND" id="inviteilmbutton" class="btn btn-primary Quantitative_Evaluation_Invitation_Send">
                  <a href="#" id="canccel" class="btn btn-light" data-dismiss="modal">
                  <strong>Cancel</strong>
                 </a>
                 <span id = "projectInviteMessage"  class="text-center green" role="alert"></span>
                      </div>
                      <br />
                    </form>

                  </article>



                </div>

              </div>
            </div>
          </div>
          <!-- Invite modal-->

            <!-- Invite Modal -->
            <div class="modal fade" id="intakepopup" tabindex="-1" role="dialog" aria-labelledby="inviteModalCenterTitle"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="Quantitative_Evaluation_Invitation_Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body ">
                  <article class="post-login">
                     
                      <h2>Add from external resource</h2>
                      <div class="form-group row">
                        <label for="firstName" class="col-sm-12">Title</label>
                        <div class="col-sm-12">
                          <input class="form-control" id="addExternalSourcename" name="inviteLastNameilm" type="text" required placeholder = "Title">
                        </div>
                      </div>
                      <div class="form-group row">
                        <label for="firstName" class="col-sm-12">Source URL</label>
                        <div class="col-sm-12">
                          <input class="form-control" id="addExternalSource" name="inviteLastNameilm" type="text" required placeholder = "Link">
                          <span class="errorCustomMessage validLink">Please enter a valid link.</span>  
                        </div>
                        
                      </div>

                      <div class="form-group row">
                        <label for="email" class="col-sm-12">Description</label>
                        <div class="col-sm-12">
                          <textarea id="addExternalDesc" class="form-control" required="" placeholder = "Description"></textarea>
                        </div>
                      </div>
                      <div class="form-group row">
                        <label for="email" class="col-sm-12">Additional Notes</label>
                        <div class="col-sm-12">
                          <textarea id="addExternalnotes" class="form-control" required=""   placeholder = "Notes"></textarea>
                        </div>
                      </div>
                      <div class="form-group row">
                        <label for="email" class="col-sm-12">Custom Labels</label>
                        <div class="col-sm-12">
                          <input name="customLabels" id="customLabels" type="text" class="form-control" title="Enter labels(,) seperated"
                          placeholder="Enter labels(,) seperated">
                        </div>
                      </div>
                      <div class="form-group row">
                        <div class="col-sm-12">
                        </div>
                      </div>

                      <div class="text-left">

                        <input name="ilmProjectName" type="hidden" value="" id="ilmProjectName">
                        <input name="ilmProjectID" type="hidden" value="" id="ilmProjectID">
                         <input name="ilmProjectID" type="hidden" value="" id="removeIdOfferings">

                        

                  <input type="submit" value="ADD" id="addExternal" class="btn btn-primary Quantitative_Evaluation_Invitation_Send">
                  <a href="#" id="cancelsuggest" class="btn btn-light" data-dismiss="modal">
                  <strong>Cancel</strong>
                 </a>
                 <span id = "eventAddedMessage"  class="text-center green" role="alert"></span>
                      </div>
                      <br />
                     

                  </article>



                </div>

              </div>
            </div>
          </div>
          <!-- Invite modal-->

          
          <div class="col-lg-3">
            <div class="commun-right-row">
              <!-- Edit ILM project-->
              <div class="new-ofer-header-right-col-1">
              
                <div class="modal fade" id="editProjectILM" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">×</span>
                        </button>
                      </div>
                      <input type="hidden" id="editTempTopics" >
                      <div class="modal-body text-left">
                        <article class="post-login">
              
                          <div class="form-group row">
                            <label class="col-sm-12">Project Name</label>
                            <div class="col-sm-12">
                              <input value="" name="editTitle" id="editTitle" type="text" class="form-control" placeholder="Enter Project Name" required>
                            </div>
                          </div>
                          <div class="form-group row">
                            <label class="col-sm-12">Description</label>
                            <div class="col-sm-12">
                              <textarea value="" name="editDesc" id="editDesc" class="form-control" required></textarea>
                            </div>
                          </div>

                          <div class="form-group row">
                            <label class="col-sm-12">Topics<a href="javascript:void(0);" data-toggle="tooltip" title="Please select the best suited topics for your project">
                              <i class="fas fa-question-circle"></i></a></label>
                            <div class="col-sm-12">
                              <select class="form-control" name="editTopics" id="editTopics" multiple title="Please select the best suited topics for your project">
                              </select>
                          
                          
                            </div>
                          </div>
                          <div class="form-group row">
                            <label class="col-sm-12">Search Keyword</label>
                            <div class="col-sm-12">
                              <input name="searchKeyword" id="editSearchKeyword" type="text" class="form-control" title="Enter each search keyword with comma(,) seperation"
                                placeholder="Enter Search Keyword with comma(,) seperated" required>
                            </div>
                          </div>
        

                          <input type="hidden" value="" name="editProjectID" id="editProjectID">
                          <input type="hidden" value="" name="removeNews" id="removeNews">
                          <input type="hidden" value="" name="removeEvents" id="removeEvents">
              
              
                        <div class="text-left">
                          <input type="submit" value="Update" class="btn btn-primary Form_update_Button">
                            <a href="#" id="canccel" class="btn btn-light" data-dismiss="modal">
                              <strong>Cancel</strong>
                            </a>
                          <span id = "projectEditMessage"  class="text-center green" role="alert"></span>
                          </div>
              
              
              
                        </article>
              
              
                        <span id="errorcode"></span>
              
                      </div>
              
                    </div>
                  </div>
                </div>

                <div id ="edit-delete" style="display: none;">
                <a id="addtoilm" href="#" class="new-ofer-btn-1 loginCheckforIlm" >
                      <i class="fas fa-plus-circle"></i> Edit </a>
            
              
                <a href="#" class="new-ofer-btn-1 deleteProduct" data-app="1058"   data-tenantid="7822da54-c0ba-11e8-85c1-6301a0c839d6">
                  <i class="fas fa-pencil-alt"></i> Delete </a>
                </div>
              </div>
                <!-- End Edit ILM project-->
              <div class="commun-add-invite-cell mt-0">

                <div class="new-ofer-header-right-col-2 ">
                  <div class="new-ofer-q-1">
                    <p>Do you want to share this project with any one? <b class="category-name"></b></p>
                    <button type="button" class="new-ofer-btn-1 green inviteProcess">
                      <div id = "inviteToParticipate" class="inviteToIlm new-ofer-q-1-bt-l" data-toggle="modal" data-target="#Category_Offering_Invite" >Invite them to participate
                      </div>
                      <div class="new-ofer-q-1-bt-r"><i class="fas fa-chevron-right"></i></div>
                      <div class="clearfix"></div>
                    </button>
                  </div>
                </div>
              </div>
              <!-- commun-add-invite-cell ends -->
            </div>
          </div>

        </div>
      </div>
    </article>

          <div class="modal fade" id="addproject" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">×</span>
      </button>
                </div>
                <div class="modal-body text-left">
                  <article class="post-login">
                    <form name="" id="">
                      <h2>Add Offering to ILM Projects</h2>
                      <div class="form-group row">
                        <label class="col-sm-12">Select Project</label>
                        <div class="col-sm-12">
                          <div class="row">
                            <div class="col-md-12">
                              <select class="form-control" id="projectlist" required=""><option selected="" disabled="" value="">Select</option><option value="845">we should eat to prevent disease</option><option value="831">Illiteracy May Triple Risk of Dementia</option><option value="829">Could cytotoxic T-cells be a key to longevity?</option></select>
                            </div>
                            <div style="display:none;" class="col-md-5">
                              <a id="add-project" href="#" class="text-right text-primary d-block" data-toggle="modal" data-target="#addnewproject">
                                <u>Not in List, Add Project</u>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="form-group row">
                        <label class="col-sm-12">Your Comments</label>
                        <div class="col-sm-12">
                          <textarea id="projectcmnts" class="form-control" required=""></textarea>
                        </div>
                      </div>

                      <input type="hidden" name="formentry" id="formentry" value="true">
                      <div class="text-left">
                        <input id="offeringrelationbtn" type="submit" value="SAVE" class="btn btn-primary Form_Login_Button">
                        <a href="#" id="canccel" class="btn btn-light" data-dismiss="modal"><strong>Cancel</strong></a>
                      </div>

                    </form>

                  </article>


                  <span id="errorcode"></span>

                </div>

              </div>
            </div>
          </div>
    <article class="new-ofering-row-2">
      <div class="container">
        <div class="new-ofering-row-2-cell">
  
           <div class="row">
            <div class="col-md-12">
              <div class="ofer-list-1-ttl"><b>Innovation Lifecycle
                Insights</b></div>
              <ul  id="projecttotalinsight">




              </ul>
            </div>
            <!-- <div class="col-md-12">
              <div class="ofer-list-1-ttl"><b>Related ILM Community</b></div>
              <ul class="row" id="relatedCategories">
              </ul>
            </div> -->
          </div>
          <div class="clearfix"></div>
        </div>
      </div>
    </article>
    

    <div id = "removeSuccess" class="text-center w-100" role="alert">
       
    </div>

    <article class="new-ofering-row-3 commun-content-row-3">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="category-what-new-row mb-5">
              <!-- <h3>Offerings added to  <span id="whatsNewCategory">  </span></h3> 
              <div class="border-center-1"></div> -->

             <!-- tab content starts ---------------->
<div class="top-10-most-row">
        <div class="top-10-most-row-tab-ttl">
          <ul class="nav nav-tabs text-center" id="myTab" role="tablist">

   

              <li class="nav-item">
                <a class="nav-link show active" id="brief-tab" data-toggle="tab" href="#dailybrief" role="tab" aria-controls="dailybrief" aria-selected="true"><i class="far fa-calendar-check"></i> Daily Brief</a>
              </li>  

              <li class="nav-item">
                <a class="nav-link " id="offering-tab" data-toggle="tab" href="#offering" role="tab" aria-controls="offering" aria-selected="true"><i class="fas fa-laptop f-14"></i> Products</a>
              </li>
                <li class="nav-item">
                <a class="nav-link " id="solution-tab" data-toggle="tab" href="#solutions" role="tab" aria-controls="offering" aria-selected="true"><i class="far fa-lightbulb"></i> Solutions</a>
              </li>
              <li class="nav-item">
                <a class="nav-link " id="service-tab" data-toggle="tab" href="#services" role="tab" aria-controls="offering" aria-selected="true"><i class="fas fa-cog"></i> Services</a>

              </li>
            
              <li class="nav-item">
                  <a class="nav-link show" id="news-tab" data-toggle="tab" href="#news" role="tab" aria-controls="news" aria-selected="false"><i class="far fa-file-alt"></i> News</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link show" id="events-tab" data-toggle="tab" href="#events" role="tab" aria-controls="events" aria-selected="false"><i class="fas fa-history"></i> Events</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link show" id="award-tab" data-toggle="tab" href="#award" role="tab" aria-controls="events" aria-selected="false"><i class="fa fa-award f-16"></i> Awards </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link show" id="intake-tab" data-toggle="tab" href="#intake" role="tab" aria-controls="events" aria-selected="false"><i class="fa fa-download f-16"></i> Suggest </a>
                  </li>
                 
                   <li class="nav-item">
                    <a class="nav-link show" id="history-tab" data-toggle="tab" href="#history" role="tab" aria-controls="events" aria-selected="false"><i class="far fa-folder-open f-16"></i> Activity</a>
                  </li>
                 
                </ul>
        </div>
        <div class="tab-content" id="myTabContent">

          <div class="tab-pane fade active show" id="dailybrief" role="tabpanel" aria-labelledby="brief-tab">
             
 
            
                <section class="">
                    <div class="fhir-list-row" >
                        
                        <div id="search-results">

                        </div>
                       
                    </div>
                </section>
                
                <script id="search-result-template" type="text/x-js-template">
                    <section class="card blog-card search-match">
                        <article class="card-body">
                            <div id="summary-${key}">
                            <h2 class="card-title"><a href="${link}" ${target} >${title}</a></h2>
                            <p class="es_content">${snippet}</p>
                            ${ isset tags }<p>Tags: ${tags}</p>${ end }
                            ${ isset categories }<p><b>Topics:</b> <span class="search-categories">${categories}</span></p>${ end }
                            <p><a href="${link}" ${target}  class="search-read">${read_more}</a> <span class="new-ofer-breadcrumbs">${breadcrub}</span></p>
                            </div>
                        </article>
                    </section>    
                </script>
                 <nav class="pagination-nav side-padding" style="display:none">
                        <a href="#" class="pagination-newer" id="es_prev">&lt; Previous Page</a>
                        <a href="#" class="pagination-older" id="es_nxt">Next Page &gt;</a>
                      </nav>
        <script>
        /*  $( document ).ready(function() {
        var searchQuery = searchTitle
         var es_page =1;
         if(es_page==1){
              $("#es_prev").hide();
         }
        if(searchQuery){
          $("#search-for-breadcrumb").text("'"+searchQuery+"'");
           // $("#search-query").val(searchQuery);
            // $("#es-page").val(es_page);
            $("#es_nxt").hide();
            $("#es_prev").hide();
            //$('#search-results').html("<p id='ajx_text'>Please wait.</p>");
            $('#search-results').html('<div class="text-center"><div class="spinner-border" role="status" id="ajx_text"><span class="sr-only">Loading...</span></div></div>');

            executeSearch(searchQuery);
        }else {
            $("#es_nxt").hide();
            $('#search-results').append("<p>Please enter a word or phrase above</p>");
        }
        });*/

        function param(name) {
            return decodeURIComponent((location.search.split(name + '=')[1] || '').split('&')[0]).replace(/\+/g, ' ');
        }

        function executeSearch(searchQuery){
            var size=10
             var offset
             var es_page = 1;
             var cat_param=param("category");
            // console.log("sarin"+cat_param)
             if(es_page==''){
               es_page=1;  
             }

            if(es_page==1){
            offset=0
            }else{
            offset=(es_page-1)*size;
        }

        var req_data='';
        
       // req_data='{"query": {"multi_match" : { "query" :"'+searchQuery+'" }},"size":"'+size+'", "from":"'+offset+'","highlight" : {"fields" : {"*":{}}},"aggs" : {"sub_count" : {"terms" : {"field" : "sub"}}}}';
          if(cat_param==''){
      // req_data='{"query": {"multi_match" : { "query" :"'+searchQuery+'" }},"size":"'+size+'", "from":"'+offset+'","highlight" : {"fields" : {"*":{}}},"aggs" : {"sub_count" : {"terms" : {"field" : "searchCategory"}}}}';
       //req_data='{"query":  {"bool": {"filter": [{"multi_match": {"query": "'+searchQuery+'"}},{"exists": {"field": "searchCategory" }}]}},"size":"'+size+'", "from":"'+offset+'","highlight" : {"fields" : {"*":{}}},"aggs" : {"sub_count" : {"terms" : {"field" : "searchCategory"}}}}';
      // req_data='{"query":  {"bool": {"filter": [{"multi_match": {"query": "'+searchQuery+'"}},{"exists": {"field": "searchCategory" }}],"should": [{"multi_match": {"query": "'+searchQuery+'","type": "phrase","boost": 10}}]}},"size":"'+size+'", "from":"'+offset+'","highlight" : {"fields" : {"*":{}}},"aggs" : {"sub_count" : {"terms" : {"field" : "searchCategory"}}}}';
       req_data='{"query":  {"bool": {"filter": [{"multi_match": {"query": "'+searchQuery+'"}},{"exists": {"field": "searchCategory" }}],"must_not": [{"match_phrase": { "searchCategory": {"query": "null" }}}],"should": [{"multi_match": {"query": "'+searchQuery+'","type": "phrase","boost": 10}}]}},"size":"'+size+'", "from":"'+offset+'","highlight" : {"fields" : {"*":{}}},"aggs" : {"sub_count" : {"terms" : {"field" : "searchCategory"}}}}';

          }else{
              if(cat_param=='product'||cat_param=='hdo'||cat_param=='solution'||cat_param=='service'||cat_param=='innovator'){
                      if(cat_param=='hdo') {
                         cat_param_2='HDOs' 
                         $("#search-for-breadcrumb-cat").text(cat_param_2);

                      }else{     
                            
                             $("#search-for-breadcrumb-cat").text(cat_param+'s');
                      }
    
              }else{
               $("#search-for-breadcrumb-cat").text(cat_param);
              }
               $("#search-for-breadcrumb-cat").removeClass("d-none");  
              

        req_data='{"query": {"bool": {"must" : {"multi_match" : {"query": "'+searchQuery+'" }}}},"post_filter": {"term": {"searchCategory": "'+cat_param+'"}},"size":"'+size+'", "from":"'+offset+'","highlight" : {"fields" : {"*":{}}},"aggs" : {"sub_count" : {"terms" : {"field" : "searchCategory"}}}}';

          } 
           
           
           
            var settings = {
                "async": true,
                "cors": true ,
                // "url": "http://localhost:9200/posts/_search?q=medigy",
                //"url":"https://es.medigy.com/posts/_search",
                "url": "https://es.medigy.com/posts/_search",


               // "url":"http://localhost:9200/posts/_search",
                "method": "POST",
                "data": req_data,
                "headers": {
                    "Content-Type": "application/json"
                }
            }

        $.ajax(settings).done(function (response) {
            var aggs_fn=response.aggregations.sub_count.buckets;
            var aggs_name='';
            var cat_sum=0;
            var all_url="?s=" + searchQuery + "&page=1"

    //console.log(cat_sum);
    //var rem_total=response.hits.total.value-cat_sum;
     // $("#es_total").append("<span class='total-count-1'>Offerings: <strong>"+rem_total+"</strong></span>");


            var offset2 = es_page * size
            $("#es_total").show();
            $("#add_clrfx").addClass("clearfix")

                if (response.hits.hits.length) {
                   populateResults(response);
                   $('#ajx_text').hide();
                   $("#es_nxt").show();    
                   if (es_page > 1) {
                        $("#es_prev").show();
                   }
                    if (offset2 >= response.hits.total.value) {
                     $("#es_nxt").hide();
                    }
                    var newurl = "";
                    var prevurl = "";
                    var cat_url="";
                    var nxturl="";
                    var prevurl="";
                    var n_no = parseInt(es_page) + 1
                    var p_no = parseInt(es_page) - 1

                     if(cat_param==''){
                    nxturl = "?s=" + searchQuery + "&page=" + n_no
                    prevurl = "?s=" + searchQuery + "&page=" + p_no

                     }else{
                    nxturl = "?s=" + searchQuery + "&page=" + n_no+"&category="+cat_param
                    prevurl = "?s=" + searchQuery + "&page=" + p_no+"&category="+cat_param

                     }
                    $("#es_nxt").attr("href", nxturl);
                    $("#es_prev").attr("href", prevurl);

    // $("#total_count").html(cat_sum);
     //if(cat_param!=''){
               //   $('#es_total').removeClass('pull-left').addClass('pull-right');

       //              $("#es_total").append("<span class='cat_key capitalize new-ofer-btn-1'><a href=?s=" + searchQuery + "&page=1>Back to results</a></span>");
     //}




                } else {
                    $('#search-results').html("No results found");
                    $("#es_nxt").hide()
                    $("#es_prev").hide();
                     $("#es_tabs").hide();
                }
        }).fail(function(data){
                    $('#search-results').html("Try again later");
                    $("#es_nxt").hide()
                    $("#es_prev").hide();
                     $("#es_total").hide();
                      $("#es_tabs").hide();
});
    }

        
        function populateResults(result){
        $.each(result.hits.hits,function(key,value){
            var contents= value._source.contents;
            var snippet = "";
            var snippetHighlights=[];
            var tags =[];
           
            
            //pull template from hugo templarte definition
            var templateDefinition = $('#search-result-template').html();
            //console.log(templateDefinition);
            if(templateDefinition == null || templateDefinition == 'undefined')
            {
            templateDefinition = '<section class="card blog-card search-match"><article class="card-body"><div id="summary-${key}"><h4><a href="${link}" ${target} >${title}</a></h4><p class="card-text ch-limit">${snippet}</p>${ isset tags }<p>Tags: ${tags}</p>${ end }'; 
            templateDefinition += '<p><b>Categories:</b><span class="search-categories">${categories}</span></p>';
            templateDefinition += '<p><b>Breadcrumbs:</b><span class="es-breadcrub">${breadcrub}</span></p>';
            templateDefinition += '<p><a href="${link}" class="search-read">Read More</a></p></div></article></section>';
            }
            var es_content = "";
            var es_title="";
           // console.log(value.highlight);
            if(value.highlight.content!=undefined){
                es_content=value.highlight.content
            }else{
                if(value._source.content.length > 150){
                   es_content = value._source.content.substring(0,150) + '....';
                }else{
                   es_content = value._source.content 
                }
            }
//es_content = value._source.content 

// es_title=value._source.title

          if(value.highlight.title!=undefined){
                es_title=value.highlight.title
           }else{
                es_title=value._source.title
           }

            var breadcrumbsJs = value._source.breadcrumbs;
            var breadcrub="";
            var red_more="";
            red_more="Read More";
            if(breadcrumbsJs!=undefined){
            breadcrumbsJs.splice(-1,1)
            breadcrub = breadcrumbsJs.join(' > '); 
            }
            var target = "";
            var permalink="";
            if(value._source.aliases){
                permalink=value._source.aliases
            }else{
               permalink=value._source.uri  
            }
            if(value._source.sub == 'feeds')
            {
                
                var website_ur=value._source.websiteUrl;
                var domain_uri = website_ur.replace(/^(?:https?:\/\/)?(?:www\.)?/i, "").split('/')[0];
      
               // var hostname_1 = website_ur.hostname;
                red_more="Read More on "+domain_uri;
                //var readmore_feed="Read on"+value._source.feedTitle;
                breadcrub = 'Home > Feed > '+value._source.feedTitle;
                //$("#es_read").html(readmore_feed)
                permalink=value._source.sourceUrl;
                target = 'target="_blank"';
            }
            if(value._source.sub == 'brief')
            {
                breadcrub = 'Home > News';
                var splittedDate = value._source.date.split('T');
                var arraydate = splittedDate[0].split('-'); 
                permalink='/news/'+arraydate[0]+'/'+arraydate[1]+'/'+arraydate[2]+'/'+value._source.slug;
            }    

           
    if(value.highlight.categories!=undefined){
                var cat=value.highlight.categories
           }else{
                var cat=value._source.categories
           }
            var cat_text = '';
            if(cat !=undefined){
            for(i=0;i< cat.length; i++){
                cat_text +='<span class="tag-style-1 mr-1"><a href="#">'+cat[i]+'</a></span>';
               if(i==2){
                    break;
                }
         }
            }        

         //console.log(value._source.title);
            //console.log($('#search-result-template').html());
            //console.log(templateDefinition);
            //replace values
            //value._source.aliases[0]
            //value._source.uri
            if(value._source.title!=undefined){
            var output = render(templateDefinition,{key:key,title:es_title,link:permalink,tags:value.tags,read_more:red_more,breadcrub:breadcrub,snippet:es_content,target:target,categories:cat_text});
            }
            $('#search-results').append(output);
        });
        }
        
function render(templateString, data) {
  var conditionalMatches,conditionalPattern,copy;
  conditionalPattern = /\$\{\s*isset ([a-zA-Z]*) \s*\}(.*)\$\{\s*end\s*}/g;
  //since loop below depends on re.lastInxdex, we use a copy to capture any manipulations whilst inside the loop
  copy = templateString;
  while ((conditionalMatches = conditionalPattern.exec(templateString)) !== null) {
    if(data[conditionalMatches[1]]){
      //valid key, remove conditionals, leave contents.
      copy = copy.replace(conditionalMatches[0],conditionalMatches[2]);
    }else{
      //not valid, remove entire section
      copy = copy.replace(conditionalMatches[0],'');
    }
  }
  templateString = copy;
  //now any conditionals removed we can do simple substitution
  var key, find, re;
  for (key in data) {
    find = '\\$\\{\\s*' + key + '\\s*\\}';
    re = new RegExp(find, 'g');
    templateString = templateString.replace(re, data[key]);
  }
  return templateString;
}
        </script>

          </div>

          <div class="tab-pane fade" id="offering" role="tabpanel" aria-labelledby="offering-tab">
            <div class="top-10-most-list ">

             

              <main id="noproducts" class="fhir-list-row">
                
              </main>
                                  
              <main id="getallofferings" class="fhir-list-row">
                
                  </main>
              </div>              
          </div>

           <div class="tab-pane fade" id="solutions" role="tabpanel" aria-labelledby="solution-tab">
            <div class="top-10-most-list ">

               <main id="nosolutions" class="fhir-list-row">
                
                  </main>

              
                                  
              <main id="getallsolutions" class="fhir-list-row">
                
                  </main>
              </div>              
          </div>

          <div class="tab-pane fade" id="services" role="tabpanel" aria-labelledby="service-tab">
            <div class="top-10-most-list ">

               <main id="noservices" class="fhir-list-row">
                
                  </main>

              
                                  
              <main id="getallservices" class="fhir-list-row">
                 
                  </main>
              </div>              
          </div>
    
          <div class="tab-pane fade" id="news" role="tabpanel" aria-labelledby="news-tab">
     <div class="top-10-most-list ">

       

         <main id="noNews" class="fhir-list-row">
                
                  </main>


      <main id="getallnews" class="fhir-list-row">
                
                  </main>
            </div>                                               
          </div> 
          
          <div class="tab-pane fade" id="events" role="tabpanel" aria-labelledby="events-tab">
    <div class="top-10-most-list ">

         <main id="noEvents" class="fhir-list-row">
                
                  </main>

       <main id="getallevents" class="fhir-list-row">
                
                  </main>                                 
             </div>             
            </div> 

             <div class="tab-pane fade" id="history" role="tabpanel" aria-labelledby="history-tab">
    <div class="top-10-most-list ">

         <main id="nohistory" class="fhir-list-row">
                
                  </main>

       <main id="getallhistory" class="fhir-list-row">
                
                  </main>                                 
             </div>             
            </div> 

            <div class="tab-pane fade" id="intake" role="tabpanel" aria-labelledby="intake-tab">
              <div class="topic-click-add-suggest">Do you like to suggest an external resource to this ILM? <a class = "loginCheckforIlm" id = "addtoilmsuggest" href = "#" data-toggle="modal" data-target="#intakepopup" title="Click here to add">Click here to add/suggest</a></div>

              <main id="noSuggest" class="fhir-list-row">
                
              </main>

              <main id="getallsuggest" class="fhir-list-row">
                
              </main>


            </div>

            <div class="tab-pane fade" id="award" role="tabpanel" aria-labelledby="award-tab">

              <main id="noAward" class="fhir-list-row">
                
              </main>

              <main id="getallAwards" class="fhir-list-row">
                
              </main>


            </div>
    
        </div>
      </div>
    <!-- tab content ends ------------------>


            </div>
            <!-- category-what-new-row ends -->
          </div>

        </div>
<!--
        <div class="new-ofering-row-5">
          <h3>What questions do users have about this Project?</h3>
          <div class="new-ofering-row-5-cell-1 row ml-0">
            <div class="w-100 new-ofering-row-5 mb-3">
              <div id="questionMessage" class="alert alert-success" style="display: none;"></div>
              <form name="questionForm" id="questionForm">
                <div class="form-group row">
                  <label for="email" class="col-sm-12">Add new Question</label>
                  <div class="col-sm-12">
                    <input class="form-control" placeholder="Have a question?" name="questionTitle" id="questionTitle" />
                  </div>
                </div>
                <div class="text-left">
                  <input type="submit" value="Add New" id="questionButton" class="btn btn-primary q-btn-1" productname="{{ .Title }}" projectid="{{ .Params.id }}"
                    style="display:none">
                 </div>
              </form>
            </div>
          </div>
          
          <div id="questionCollectionDiv">
          </div>
        </div>
       -->
        <div class="isso-comment pb-3">
         <section id="isso-thread" data-title = "medigy-comment"  data-isso-id="projects"></section>
         <div class="clearfix"></div>
        </div>
        
      </div>
    </article>


  </section>

  
<section class = "footer-wrapper">
  <div itemscope itemtype = "http://schema.org/WebSite"><!--open schema website div -->
  <article class="landing-footer-wrapper">
    
      <div class="container">
        <div class="row footer-skin-row-1">

            <div class="col-md-4 footer-skin-row-1-col-1">
              <h5>Medigy Innovation Network</h5>
              <p>Connecting innovation decision makers to authoritative information, institutions, people and insights.</p>
             <ul>
                    <li><a id = "About_Us_Footer" href="/about-us">About Us</a></li>
                    <li> <a id = "Contact_Us_Footer" target="_blank" href="/contact-us/">Contact Us</a></li>
                </ul>
              <span class="footer-skin-logo"><a href="/" title="Medigy"><img class = "footer-logo-style img-responsive" src="/images/Medigy- Innovation- Network-footer.svg" alt="footer logo"></a></span>
            </div>

            <div class="col-md-4 footer-skin-row-1-col-1">
              <h5>The latest News, Insights & Events</h5>
                <p>Medigy accurately delivers healthcare and technology information, news and insight from around the world.</p>
              <ul>
                  <li><span class="foot-menu-width"><a id = "News_Footer" href="/news">News</a></span> <span class="foot-menu-width cap"><a id = "AddNews_Footer" href="/add-suggest">Curate News</a></span></li>
                  <li><span class="foot-menu-width"><a id = "Events_Footer" href="/events">Events</a></span> <span class="foot-menu-width cap"><a id = "AddEvents_Footer" href="/add-suggest">Add Event</a></span></li>
                  <li><span class="foot-menu-width"><a id = "Awards_Footer" href="/recognition/awards/">Awards</a></span> <span class="foot-menu-width cap"><a id = "AddAwards_Footer" href="/add-suggest">Add Recognition</a></span></li>
                  <li><span class="foot-menu-width"><a id = "Feeds_Footer" href="/feed/latest">Feeds</a></span> <span class="foot-menu-width cap"><a id = "AddFeeds_Footer" href="/add-suggest">Suggest Feed</a></span></li>
              </ul>
            </div>

            <div class="col-md-4 footer-skin-row-1-col-1">
              <h5>The best products, services & solutions</h5>
              <p>Medigy surfaces the world’s best crowdsourced health tech offerings with social interactions and peer reviews.</p>
            <ul>
                    <li><a id = "Daily_Brief_Footer" href="/brief/daily/offerings/discovered/">Daily Brief</a></li>
                    <!--<li><a id = "Trending_Footer" href="/trending">Trending</a></li>-->
                    <li><a id = "Communities_Footer" href="/communities/">Communities</a></li>
                    <li><a id = "Categories_Footer" href="/topics">Topics</a></li>
                    <li><a id = "Evaluation_Facets_Footer" href="/evaluation-facets">Evaluation Facets</a></li>
                    <li><a id = "Modules_Footer" href="/modules/innovation-lifecycle-management/">Modules</a></li>
                </ul>
            </div>

        </div>
        </div>
      <div class="footer-skin-row-2">
        <div class="container">
       <div class="row">
                  <div class="col-lg-6 col-md-6">
    
                  @ Netspective Media LLC. All Rights Reserved. 
                   
              </div>
              <div class="col-lg-6 col-md-6 footer-skin-social">
                <span>
                  <a id = "Twitter_Social_Footer" target = "blank" href="https://twitter.com/Medigy1" itemprop = "sameAs">
                  <img src="/images/icon-twitter.png"  alt="footer logo"></a>
                </span> 
                <span>
                  <a id = "LinkedIn_Social_Footer" target = "blank" href="https://www.linkedin.com/company/14692561/" itemprop = "sameAs">
                  <img src="/images/icon-linkedin.png" alt="Linkedin icon"></a>
                </span> 
                <span>
                  <a  id = "Facebook_Social_Footer"  target = "blank" href="https://www.facebook.com/Medigy-348891592466008/" itemprop = "sameAs">
                  <img src="/images/icon-facebook.png" alt="Facebook icon"></a>
                </span>
              </div>
            </div>
          </div>   
      </div>

  </article>

  <script type="text/javascript" src="/js/jquery.md5.js"></script>
  </div><!--close schema website div -->
</section>

<script>
  $(document).ready(function () {
    if (getCookie('suggestNewsEvent') == 'Offerings') {
        setCookie('suggestNewsEventPage', "");
        setCookie('suggestNewsEvent', "");
        $("#myTab > li > a").removeClass("active");
        $('.main-tab.tab-pane').removeClass("active show");
        $("#offering-tab").addClass("active");
        $("#offering").addClass("active show");
        localStorage.setItem('activeaddTab', '#offering');
    }
    $('#AddNews_Footer').on("click", function (e) {
    localStorage.removeItem("activeaddTab");
    $('#myTab a[href="' + "#news" + '"]').tab('show');
     
      setCookie('suggestNewsEventPage', "News");
      setCookie('suggestNewsEvent', "News");
  if (getCookie('personid') == null) {
    
     e.preventDefault();
     
      $('#loginModalCenter').modal('toggle');
      return false;
  }
    });
    if (getCookie('personid') !== null) {

      if (getCookie('suggestNewsEvent') == 'News') {
        setCookie('suggestNewsEventPage', "");
        setCookie('suggestNewsEvent', "");
        var data = $("#myTab > li > a").attr("class");
        $("#myTab > li > a").removeClass("active");
        $('.main-tab.tab-pane').removeClass("active show");
        $("#news-tab").addClass("active");
        $("#news").addClass("active show");
        localStorage.setItem('activeaddTab', '#news');

      }
    }

   

    $('#AddEvents_Footer').on("click", function (e) {
    localStorage.removeItem("activeaddTab");
    $('#myTab a[href="' + "#events" + '"]').tab('show');
    setCookie('suggestNewsEventPage', "Event");
    setCookie('suggestNewsEvent', "Event");
    if (getCookie('personid') == null) {
      
     e.preventDefault();
     
      $('#loginModalCenter').modal('toggle');
      return false;
    }
    });
     if (getCookie('personid') !== null) {

    if (getCookie('suggestNewsEvent') == 'Event') {
      setCookie('suggestNewsEventPage', "");
      setCookie('suggestNewsEvent', "");
      var data = $("#myTab > li > a").attr("class");
      $("#myTab > li > a").removeClass("active");
      $('.main-tab.tab-pane').removeClass("active show");
      $("#events-tab").addClass("active");
      $("#events").addClass("active show");
      localStorage.setItem('activeaddTab', '#events');
    }
     }

// 18-12-19
    $('#AddAwards_Footer').on("click", function (e) {
    localStorage.removeItem("activeaddTab");
    $('#myTab a[href="' + "#awards" + '"]').tab('show');
    setCookie('suggestNewsEventPage', "Awards");
    setCookie('suggestNewsEvent', "Awards");
    if (getCookie('personid') == null) {
      
     e.preventDefault();
     
      $('#loginModalCenter').modal('toggle');
      return false;
    }
    });
     if (getCookie('personid') !== null) {

    if (getCookie('suggestNewsEvent') == 'Awards') {
      setCookie('suggestNewsEventPage', "");
      setCookie('suggestNewsEvent', "");
      var data = $("#myTab > li > a").attr("class");
      $("#myTab > li > a").removeClass("active");
      $('.main-tab.tab-pane').removeClass("active show");
      $("#awards-tab").addClass("active");
      $("#awards").addClass("active show");
      localStorage.setItem('activeaddTab', '#awards');
    }
     }

$('#AddFeeds_Footer').on("click", function (e) {
    localStorage.removeItem("activeaddTab");
    $('#myTab a[href="' + "#feeds" + '"]').tab('show');
    setCookie('suggestNewsEventPage', "Feeds");
    setCookie('suggestNewsEvent', "Feeds");
    if (getCookie('personid') == null) {
      
     e.preventDefault();
     
      $('#loginModalCenter').modal('toggle');
      return false;
    }
    });
     if (getCookie('personid') !== null) {

    if (getCookie('suggestNewsEvent') == 'Feeds') {
      setCookie('suggestNewsEventPage', "");
      setCookie('suggestNewsEvent', "");
      var data = $("#myTab > li > a").attr("class");
      $("#myTab > li > a").removeClass("active");
      $('.main-tab.tab-pane').removeClass("active show");
      $("#feeds-tab").addClass("active");
      $("#feeds").addClass("active show");
      localStorage.setItem('activeaddTab', '#feeds');
    }
     } 

       $('#AddTopic_Top').on("click", function (e) {
       setCookie('suggestNewsEventPage', "Topic");
       setCookie('suggestNewsEvent', "Topic");
  if (getCookie('personid') == null) {
    
     e.preventDefault();
     
      $('#loginModalCenter').modal('toggle');
      return false;
  }
    });  
    if (getCookie('personid') !== null) {

      if (getCookie('suggestNewsEvent') == 'Topic') {
        setCookie('suggestNewsEventPage', "");
        setCookie('suggestNewsEvent', "");
        var data = $("#myTab > li > a").attr("class");
        $("#myTab > li > a").removeClass("active");
        $('.main-tab.tab-pane').removeClass("active show");
        $("#topics-tab").addClass("active");
        $("#topics").addClass("active show");
        localStorage.setItem('activeaddTab', '#topics');
      }
      
    } 

// 18-12-19

    $('#Top_Add_Offering_Button').on("click", function () {
      localStorage.removeItem("activeaddTab");
      setCookie('suggestNewsEventPage', "Offerings");
      setCookie('suggestNewsEvent', "Offerings");
    });
  });
  // data layer variable 23-01-2020
  function gtmAddBrief(title,tab,userEmail){
  window.dataLayer = window.dataLayer || [];
         window.dataLayer.push({
       'gtmTitle': title,
       'gtmTab':tab,
       'gtmPersonid': userEmail  
       
      }); 
    return;
  }
  function gtmAddBriefCategory(title,tab,userEmail,category){
  window.dataLayer = window.dataLayer || [];
         window.dataLayer.push({
       'gtmTitle': title,
       'gtmTab':tab,
       'gtmPersonid': userEmail,
       'gtmCategory':category  
       
      }); 
     return;
  }
  </script>


</body>
</html>
<script type="text/javascript">
function loadComment() {
  var uniqueId = getUrlVars()["ilm"];    
       var issoUrl = 'https://isso.medigy.com';
        uri = encryptCodes(uniqueId,'isso');      
        $('#isso-thread').attr('data-isso-id', uri);        
        var JSElement = document.createElement('script');
        JSElement.src = 'https://isso.medigy.com/js/embed.min.js';
        jQuery(JSElement).attr('data-isso', issoUrl);
        jQuery(JSElement).attr('data-isso-css', 'true');
        jQuery(JSElement).attr('data-isso-lang', 'en');
        jQuery(JSElement).attr('data-isso-reply-to-self', 'true');
        jQuery(JSElement).attr('data-isso-require-author', 'false');
        jQuery(JSElement).attr('data-isso-require-email', 'false');
        jQuery(JSElement).attr('data-isso-max-comments-top', '10');
        jQuery(JSElement).attr('data-isso-max-comments-nested', '50');
        jQuery(JSElement).attr('data-isso-reveal-on-click', '50');
        jQuery(JSElement).attr('data-isso-avatar', 'true');
        jQuery(JSElement).attr('data-isso-avatar-bg', '#f0f0f0');
        jQuery(JSElement).attr('data-isso-avatar-fg', '#9abf88 #5698c4 #e279a3 #9163b6 ...');
        jQuery(JSElement).attr('data-isso-vote', 'false');
        jQuery(JSElement).attr('data-vote-levels', '1,5,10,25,100');
        if(getCookie('personid')) {
           document.getElementsByTagName('head')[0].appendChild(JSElement);
          
        }
         $(".isso-postbox .input-wrapper input[name='email']").hide();
           $(".isso-postbox .input-wrapper input[name='author']").hide();
           $(".isso-postbox .input-wrapper input[name='website']").hide();
       

       
        setTimeout(function () {
            var userName = getCookie('firstname');            
            $(".isso-postbox .input-wrapper input[name='email']").val(getCookie('firstname'));
            $(".isso-postbox .input-wrapper input[name='author']").val(userName);
            $(".isso-postbox .input-wrapper input[name='website']").val('');          
            $(".isso-comment-header .permalink"). removeAttr("href");
            
           

        }, 3000);
      }

    function encryptCodes(content,passcode) {
           var result = []; var passLen = passcode.length ;
        for(var i = 0  ; i < content.length ; i++) {
            var passOffset = i%passLen ;
            var calAscii = (content.charCodeAt(i)+passcode.charCodeAt(passOffset));
            result.push(calAscii);
        }
        return JSON.stringify(result) ;
      }
      function doImageBinding(data) {
        
        document.getElementById("product_"+data['id']).src = data['image']; 
   
    }
   
       function getImageUrl(jsonEndPoint,id, callback) {
        
             $.ajax({
               dataType: "json",
               url: jsonEndPoint,
             
             success: function(imgresponse){             
             //var orginsource = imgresponse.featuredImage;
             var orginsource = imgresponse.data.featuredImage
             imageData = new Array();
             imageData['image'] = orginsource;
             imageData['id'] = id;
             callback(imageData);
             },
             error: function(){
              var orginsource = 'https://www.medigy.com/img/featured/default.png';
             imageData = new Array();
             imageData['image'] = orginsource;
              imageData['id'] = id;              
             callback(imageData);
             }
             });

        }

</script>

 
