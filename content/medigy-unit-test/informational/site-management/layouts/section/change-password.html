<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}" dir="ltr">
{{ partialCached "head.html" . "change-password-key"}}

<script>


    $(document).ready(function(){


      
    $('#productFacets').on('submit', function (e) {
      if (e.isDefaultPrevented()) {
          alert('form is not valid');
      } else {
        alert(332);
          // everything looks good!
          e.preventDefault();
          var personid = getCookie('personid');
          if( personid != null)
          {
            var offeringType = $('offeringItem').val();
            var productName = $('#productName').val();
            var categoryArray = $('#category').val();
            var catCount = categoryArray.length;
            var category ='';
            for (i=0; i<catCount; i++)
            {
              category += categoryArray[i];
              if(i != (catCount-1))
              category += '|';
            }
            var shortDescription = $('#shortDescription').val();
            var featureProduct = $('#featureProduct').val();
            var createdOn = $('#createdOn').val()+'T00:00:00+00:00';
            var link = $('#link').val();
            var businessModel = $('#businessModel').val();
            var openSourceLicense = $('#openSourceLicense').val();
            var githubUrl = $('#githubUrl').val();
            var description = $('#description').val();
            var permalink = $('#permalink').val();
            var mediaUrl = $('#mediaUrl').val();
            var media = $('#media').val();
            var facebook = $('#facebook').val();
            var twitter = $('#twitter').val();
            var linkedin = $('#linkedin').val();
            var instagram = $('#instagram').val();
            var sessionId = getCookie('sessionId');
            var hitStandards = $('#hitStandards').val();
            var fhirVersion = '';
            if($("#fhirVersion1").prop('checked') == true){
              fhirVersion = $('#fhirVersion1').val();
              }              
              if($("#fhirVersion2").prop('checked') == true){
                if(fhirVersion != null)
                  fhirVersion += '|';
                  fhirVersion += $('#fhirVersion2').val();
              }
              if($("#fhirVersion3").prop('checked') == true){
                if(fhirVersion != null)
                  fhirVersion += '|';
                  fhirVersion += $('#fhirVersion3').val();
              }              
           // var fhirVersion = $('#fhirVersion').val();
            var fhriResourceSupport = $('#fhriResourceSupport').val();
            var userEmail = getCookie('userEmail');
           //console.log( "mutation{\n  saveFacet(tenantId:\"7822da54-c0ba-11e8-85c1-6301a0c839d6\",\n  createdBy:\"Alex\",\n  userEmail:\""+userEmail+"\",\n    questionnaireName:\"Medigy Product Profile\",\n    category:\"Product\",\n    authKey:\""+sessionId+"\"\n    instance:\"{\\\"name\\\":\\\""+productName+"\\\",\\\"category\\\":\\\""+category+"\\\",\\\"shortDescription\\\":\\\""+shortDescription+"\\\",\\\"featureProduct\\\":\\\""+featureProduct+"\\\",\\\"createdOn\\\":\\\""+createdOn+"\\\",\\\"link\\\":\\\""+link+"\\\",\\\"businessModel\\\":\\\""+businessModel+"\\\",\\\"openSourceLicense\\\":\\\""+openSourceLicense+"\\\",\\\"githubUrl\\\":\\\""+githubUrl+"\\\",\\\"description\\\":\\\""+description+"\\\",\\\"mediaUrl\\\":\\\""+mediaUrl+"\\\",\\\"permalink\\\":\\\""+permalink+"\\\",\\\"media\\\":\\\""+media+"\\\",\\\"facebook\\\":\\\""+facebook+"\\\",\\\"twitter\\\":\\\""+twitter+"\\\",\\\"linkedin\\\":\\\""+linkedin+"\\\",\\\"instagram\\\":\\\""+instagram+"\\\",\\\"hitStandards\\\":\\\""+hitStandards+"\\\",\\\"fhirVersion\\\":\\\""+fhirVersion+"\\\",\\\"fhriResourceSupport\\\":\\\""+fhriResourceSupport+"\\\"}\"){\n    status\n    message\n    errorCode\n  }\n}\n");
              var token = '5C3R48MM9H5W8NSRDZG5';
            var settings = {
              "async": true,
              "crossDomain": true,
              "url": "{{ $.Site.Params.GraphQLUrl }}",
              "method": "POST",
              "headers": {
                "Content-Type": "application/x-www-form-urlencoded",
                "cache-control": "no-cache"
              },
              "data": {
    
                "query": "query{\n  getResetPasswordUser(key:\""+token+"\")\n}"
              }
            }
        
            $.ajax(settings).done(function (response) {
              $("#productFacets")[0].reset();
              if(response.data.saveFacet.status == "SUCCESS")
                $('#productFacetsMessage').html("Your Offering is successfully saved. Our expert panel will review and publish your Offering and notify you when available on our site. Thank you..");
              else
              {
                $('#productFacetsMessage').html("This Offering is not created."+ response.data.saveFacet.message);
                $('#productFacetsMessage').addClass('alert-danger');  
              }
              $('#productFacetsMessage').show();
            });    
        
          }
          else
          {
            $('#messageModal').html("");
            $('#messageModal').html("Please login to Upvote.");
            $('#loginModalCenter').modal();
          
          }
              // your ajax
      }
    });
    }); 
</script>
<script>
  $(document).ready(function () {
    var today = new Date();
    var dd = today.getDate();
    var mm = today.getMonth() + 1; //January is 0!
    var yyyy = today.getFullYear();

    if (dd < 10) {
      dd = '0' + dd;
    }

    if (mm < 10) {
      mm = '0' + mm;
    }

    today = dd + '/' + mm + '/' + yyyy;
    $('#createdOn').val(today);


    $('#businessModel').on("change", function () {
      var businessModel = $('#businessModel').val();
      if (businessModel != 'Open Source (Free)' && businessModel != 'Open Source (Freemium)')
        $('#opensourceDiv').hide();
        //$('#openSourceLicense').prop("disabled", true);
      else
        $('#opensourceDiv').show();
        //$('#openSourceLicense').prop("disabled", false);
    });

     /* var personid = getCookie('personid');

      if (personid == null) {
        window.location.href = "/";
      }
      */

$('#hitStandards').on("change", function () {
    var hitStandards = $('#hitStandards').val();
    if(hitStandards == 'FHIR')
    $('#fhirDiv').show();
    else
    $('#fhirDiv').hide();
  });

  $('#offeringItem').on("change", function () {
    var offeringItem = $('#offeringItem').val();
    if(offeringItem == '')
      offeringItem = 'Offering';
$('span.replace-it').html(offeringItem);
var titleCategoryValue = 'Please select the best suited categories for your '+offeringItem;
$('#category').attr('title',titleCategoryValue);
var descriptionTitle = 'What problem does your '+offeringItem+' solve? What does your customer gain from using your '+offeringItem+'? What separates your '+offeringItem+' from others on the market? Your brief description needs to answer these questions in a way that is easy to read.'
$('#descriptionTooltip').attr('title',descriptionTitle);
});

});


</script>

<body class="single-body">
  {{ partialCached "nav-bar.html" . "change-password-key"}}


  
  <section class="container">
    <main class="content side-text-padding container single-blog-card">
      <article class="post {{ if ne .Params.dropcap false }}dropcase{{ end }} min-height-auto">
        <div id="productFacetsMessage" class="alert alert-success"></div>
        <header class="post-header">
          <h1 class="post-title">Change Password</h1>
        </header>


        <div class="entry-content entry-content-2 page-content">
          <div class="row">
            <div class="col-sm-12">

              <article class="add-new-product-row">

                <div class="tab-content" id="myTabContent">
                  <!-- Profile tab starts ::::::::::::::::::::::::::::::::::: -->
                  <div class="tab-pane fade show active" id="profile" role="tabpanel">
                    <form name="changePassword" id="changePassword" action="#">
                      <section class="add-new-product-col min-height-sec" >
                        <aside class="margin-top-aside" >

                          <div class="form-group row col-md-12">
                            <label class="col-md-5"><span class="replace-it">Password <span style="color:#F00;">*</span></label>
                            <div class="col-md-7">
                              <input type="password" class="form-control" placeholder="Enter New Password" name="password" id="password"
                                required>
                            </div>
                          </div>

                          <div class="form-group row col-md-12">
                            <label class="col-md-5"><span class="replace-it">Confirm Password <span style="color:#F00;">*</span></label>
                            <div class="col-md-7">
                              <input type="password" class="form-control" placeholder="Confirm Password" name="confirmPassword" id="confirmPassword"
                                required data-match="#password">
                            </div>
                          </div>                          

                        </aside>



                  </section>
                  <div class="text-right">
                    <button type="submit" class="btn btn-primary add-new-bt full-width" name="addProduct" id="addProduct">
                    Submit </button>
                  </div>

                  </form>
                </div>
                <!-- profile tab ends ::::::::::::::::::::::::::::::::::: -->


            </div>

            </article>

          </div>
        </div>





        </div>

      </article>

    </main>
  </section>

</body>

</html>